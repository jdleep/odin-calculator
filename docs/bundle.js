(()=>{"use strict";function t(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,r){return n.apply(this,arguments)};case 3:return function(t,r,e){return n.apply(this,arguments)};case 4:return function(t,r,e,u){return n.apply(this,arguments)};case 5:return function(t,r,e,u,o){return n.apply(this,arguments)};case 6:return function(t,r,e,u,o,a){return n.apply(this,arguments)};case 7:return function(t,r,e,u,o,a,i){return n.apply(this,arguments)};case 8:return function(t,r,e,u,o,a,i,c){return n.apply(this,arguments)};case 9:return function(t,r,e,u,o,a,i,c,f){return n.apply(this,arguments)};case 10:return function(t,r,e,u,o,a,i,c,f,l){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function n(t,n){return function(){return n.call(this,t.apply(this,arguments))}}const r={"@@functional/placeholder":!0};function e(t){return t===r}function u(t){return function n(r){return 0===arguments.length||e(r)?n:t.apply(this,arguments)}}function o(t){return function n(r,o){switch(arguments.length){case 0:return n;case 1:return e(r)?n:u((function(n){return t(r,n)}));default:return e(r)&&e(o)?n:e(r)?u((function(n){return t(n,o)})):e(o)?u((function(n){return t(r,n)})):t(r,o)}}}function a(t){return function n(r,a,i){switch(arguments.length){case 0:return n;case 1:return e(r)?n:o((function(n,e){return t(r,n,e)}));case 2:return e(r)&&e(a)?n:e(r)?o((function(n,r){return t(n,a,r)})):e(a)?o((function(n,e){return t(r,n,e)})):u((function(n){return t(r,a,n)}));default:return e(r)&&e(a)&&e(i)?n:e(r)&&e(a)?o((function(n,r){return t(n,r,i)})):e(r)&&e(i)?o((function(n,r){return t(n,a,r)})):e(a)&&e(i)?o((function(n,e){return t(r,n,e)})):e(r)?u((function(n){return t(n,a,i)})):e(a)?u((function(n){return t(r,n,i)})):e(i)?u((function(n){return t(r,a,n)})):t(r,a,i)}}}const i=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function c(t){return"[object String]"===Object.prototype.toString.call(t)}const f=u((function(t){return!!i(t)||!!t&&"object"==typeof t&&!c(t)&&(0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))}));var l="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function s(t,n,r){return function(e,u,o){if(f(o))return t(e,u,o);if(null==o)return u;if("function"==typeof o["fantasy-land/reduce"])return n(e,u,o,"fantasy-land/reduce");if(null!=o[l])return r(e,u,o[l]());if("function"==typeof o.next)return r(e,u,o);if("function"==typeof o.reduce)return n(e,u,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function p(t,n,r){for(var e=0,u=r.length;e<u;){if((n=t["@@transducer/step"](n,r[e]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}e+=1}return t["@@transducer/result"](n)}const y=o((function(n,r){return t(n.length,(function(){return n.apply(r,arguments)}))}));function g(t,n,r){for(var e=r.next();!e.done;){if((n=t["@@transducer/step"](n,e.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}e=r.next()}return t["@@transducer/result"](n)}function h(t,n,r,e){return t["@@transducer/result"](r[e](y(t["@@transducer/step"],t),n))}const d=s(p,h,g);var v=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();const b=a((function(t,n,r){return d("function"==typeof t?new v(t):t,n,r)}));function j(t,n){return function(){var r=arguments.length;if(0===r)return n();var e=arguments[r-1];return i(e)||"function"!=typeof e[t]?n.apply(this,arguments):e[t].apply(e,Array.prototype.slice.call(arguments,0,r-1))}}const m=u(j("tail",a(j("slice",(function(t,n,r){return Array.prototype.slice.call(r,t,n)})))(1,1/0)));function S(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return t(arguments[0].length,b(n,arguments[0],m(arguments)))}function O(t,n,r){for(var e=0,u=r.length;e<u;)n=t(n,r[e]),e+=1;return n}function x(t,n,r){return function(){if(0===arguments.length)return r();var e=arguments[arguments.length-1];if(!i(e)){for(var u=0;u<t.length;){if("function"==typeof e[t[u]])return e[t[u]].apply(e,Array.prototype.slice.call(arguments,0,-1));u+=1}if(function(t){return null!=t&&"function"==typeof t["@@transducer/step"]}(e))return n.apply(null,Array.prototype.slice.call(arguments,0,-1))(e)}return r.apply(this,arguments)}}function A(t,n){for(var r=0,e=n.length,u=Array(e);r<e;)u[r]=t(n[r]),r+=1;return u}const w=function(){return this.xf["@@transducer/init"]()},N=function(t){return this.xf["@@transducer/result"](t)};var C=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=w,t.prototype["@@transducer/result"]=N,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},t}();const k=function(t){return function(n){return new C(t,n)}};function F(n,r,u){return function(){for(var o=[],a=0,i=n,c=0,f=!1;c<r.length||a<arguments.length;){var l;c<r.length&&(!e(r[c])||a>=arguments.length)?l=r[c]:(l=arguments[a],a+=1),o[c]=l,e(l)?f=!0:i-=1,c+=1}return!f&&i<=0?u.apply(this,o):t(Math.max(0,i),F(n,o,u))}}const q=o((function(n,r){return 1===n?u(r):t(n,F(n,[],r))}));function E(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var T=Object.prototype.toString;const U=function(){return"[object Arguments]"===T.call(arguments)?function(t){return"[object Arguments]"===T.call(t)}:function(t){return E("callee",t)}}();var I=!{toString:null}.propertyIsEnumerable("toString"),P=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],M=function(){return arguments.propertyIsEnumerable("length")}(),V=function(t,n){for(var r=0;r<t.length;){if(t[r]===n)return!0;r+=1}return!1};const z="function"!=typeof Object.keys||M?u((function(t){if(Object(t)!==t)return[];var n,r,e=[],u=M&&U(t);for(n in t)!E(n,t)||u&&"length"===n||(e[e.length]=n);if(I)for(r=P.length-1;r>=0;)E(n=P[r],t)&&!V(e,n)&&(e[e.length]=n),r-=1;return e})):u((function(t){return Object(t)!==t?[]:Object.keys(t)})),B=o(x(["fantasy-land/map","map"],k,(function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return q(n.length,(function(){return t.call(this,n.apply(this,arguments))}));case"[object Object]":return O((function(r,e){return r[e]=t(n[e]),r}),{},z(n));default:return A(t,n)}})));function D(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}function L(t,n,r){for(var e=0,u=r.length;e<u;){if(t(n,r[e]))return!0;e+=1}return!1}const H="function"==typeof Object.is?Object.is:function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n},R=u((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function $(t,n,r,e){var u=D(t);function o(t,n){return W(t,n,r.slice(),e.slice())}return!L((function(t,n){return!L(o,n,t)}),D(n),u)}function W(t,n,r,e){if(H(t,n))return!0;var u,o,a=R(t);if(a!==R(n))return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(u=t.constructor,null==(o=String(u).match(/^function (\w*)/))?"":o[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!H(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!H(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var i=r.length-1;i>=0;){if(r[i]===t)return e[i]===n;i-=1}switch(a){case"Map":return t.size===n.size&&$(t.entries(),n.entries(),r.concat([t]),e.concat([n]));case"Set":return t.size===n.size&&$(t.values(),n.values(),r.concat([t]),e.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=z(t);if(c.length!==z(n).length)return!1;var f=r.concat([t]),l=e.concat([n]);for(i=c.length-1;i>=0;){var s=c[i];if(!E(s,n)||!W(n[s],t[s],f,l))return!1;i-=1}return!0}const X=o((function(t,n){return W(t,n,[],[])}));function Y(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var Z=function(t){return(t<10?"0":"")+t};const _="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Z(t.getUTCMonth()+1)+"-"+Z(t.getUTCDate())+"T"+Z(t.getUTCHours())+":"+Z(t.getUTCMinutes())+":"+Z(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};var G=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=w,t.prototype["@@transducer/result"]=N,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},t}();function J(t){return function(n){return new G(t,n)}}const K=o(x(["fantasy-land/filter","filter"],J,(function(t,n){return r=n,"[object Object]"===Object.prototype.toString.call(r)?O((function(r,e){return t(n[e])&&(r[e]=n[e]),r}),{},z(n)):function(t,n){for(var r=0,e=n.length,u=[];r<e;)t(n[r])&&(u[u.length]=n[r]),r+=1;return u}(t,n);var r}))),Q=o((function(t,n){return K((r=t,function(){return!r.apply(this,arguments)}),n);var r}));function tt(t,n){var r=function(r){var e=n.concat([t]);return function(t,n,r){var e,u;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(e=1/n;r<t.length;){if(0===(u=t[r])&&1/u===e)return r;r+=1}return-1}if(n!=n){for(;r<t.length;){if("number"==typeof(u=t[r])&&u!=u)return r;r+=1}return-1}return t.indexOf(n,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,r);case"object":if(null===n)return t.indexOf(n,r)}for(;r<t.length;){if(X(t[r],n))return r;r+=1}return-1}(e,r,0)>=0?"<Circular>":tt(r,e)},e=function(t,n){return A((function(n){return Y(n)+": "+r(t[n])}),n.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+A(r,t).join(", ")+"))";case"[object Array]":return"["+A(r,t).concat(e(t,Q((function(t){return/^\d+$/.test(t)}),z(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):Y(_(t)))+")";case"[object Map]":return"new Map("+r(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+r(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+r(Array.from(t).sort())+")";case"[object String]":return"object"==typeof t?"new String("+r(t.valueOf())+")":Y(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var u=t.toString();if("[object Object]"!==u)return u}return"{"+e(t,z(t)).join(", ")+"}"}}const nt=u((function(t){return tt(t,[])})),rt=o((function(t,n){if(t===n)return n;function r(t,n){if(t>n!=n>t)return n>t?n:t}var e=r(t,n);if(void 0!==e)return e;var u=r(typeof t,typeof n);if(void 0!==u)return u===typeof t?t:n;var o=nt(t),a=r(o,nt(n));return void 0!==a&&a===o?t:n})),et=u((function(n){return t(b(rt,0,B((function(t){return t[0].length}),n)),(function(){for(var t=0;t<n.length;){if(n[t][0].apply(this,arguments))return n[t][1].apply(this,arguments);t+=1}}))})),ut=function(){return!0},ot=u((function(t){return q(t.length,(function(n,r){var e=Array.prototype.slice.call(arguments,0);return e[0]=r,e[1]=n,t.apply(this,e)}))})),at=u((function(t){return null==t}));const it=o((function(t,n){if(0===t.length||at(n))return!1;for(var r=n,e=0;e<t.length;){if(at(r)||!E(t[e],r))return!1;r=r[t[e]],e+=1}return!0})),ct=o((function(t,n){return it([t],n)})),ft=u((function(t){return function(){return t}}));var lt=function(t){return{value:t,"fantasy-land/map":function(){return this}}};const st=o((function(t,n){return t(lt)(n).value})),pt=Number.isInteger||function(t){return(0|t)===t},yt=a((function t(n,r,e){if(0===n.length)return r;var u=n[0];if(n.length>1){var o=!at(e)&&E(u,e)&&"object"==typeof e[u]?e[u]:pt(n[1])?[]:{};r=t(Array.prototype.slice.call(n,1),r,o)}return function(t,n,r){if(pt(t)&&i(r)){var e=[].concat(r);return e[t]=n,e}var u={};for(var o in r)u[o]=r[o];return u[t]=n,u}(u,r,e)})),gt=o((function(t,n){return function(r){return function(e){return B((function(t){return n(t,e)}),r(t(e)))}}})),ht=u((function(t){return gt((function(n){return function(t,n){for(var r,e,u,o=n,a=0;a<t.length;a+=1){if(null==o)return;var i=t[a];pt(i)?(e=o,void 0,u=(r=i)<0?e.length+r:r,o=c(e)?e.charAt(u):e[u]):o=o[i]}return o}(t,n)}),yt(t))})),dt=t=>({storedValue:"0",operator:"",displayValue:"0",isPostCalc:!1});let vt={storedValue:"0",operator:"",displayValue:"0",isPostCalc:!1};const bt=ht(["displayValue"]),jt=ht(["storedValue"]),mt=ht(["isPostCalc"]),St=ht(["operator"]);var Ot=function(t){return{value:t,map:function(n){return Ot(n(t))}}};const xt=a((function(t,n,r){return t((function(t){return Ot(n(t))}))(r).value}));const At=a((function(t,n,r){return xt(t,ft(n),r)}));function wt(t){for(var n,r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];for(var u,o=t,a=r.map((function(t){return"lazy"in t?function(t){var n=t.lazy,r=t.lazyArgs,e=n.apply(void 0,null!=r?r:[]);return Object.assign(e,{isIndexed:n.indexed,isSingle:n.single,index:0,items:[]})}(t):void 0})),i=0;i<r.length;)if(void 0!==a[i]&&("string"==typeof(u=o)||"object"==typeof u&&null!==u&&Symbol.iterator in u)){for(var c=[],f=i;f<r.length;f++){var l=a[f];if(void 0===l)break;if(c.push(l),l.isSingle)break}for(var s=[],p=o[Symbol.iterator]();;){var y=p.next();if(null!==(n=y.done)&&void 0!==n&&n)break;if(Nt(y.value,s,c))break}o=c[c.length-1].isSingle?s[0]:s,i+=c.length}else o=(0,r[i])(o),i+=1;return o}function Nt(t,n,r){var e;if(0===r.length)return n.push(t),!1;for(var u=t,o={done:!1,hasNext:!1},a=!1,i=0;i<r.length;i++){var c=r[i],f=c.isIndexed,l=c.index,s=c.items;if(s.push(u),o=f?c(u,l,s):c(u),c.index+=1,o.hasNext){if(null!==(e=o.hasMany)&&void 0!==e&&e){for(var p=0,y=o.next;p<y.length;p++)if(Nt(y[p],n,r.slice(i+1)))return!0;return!1}u=o.next}if(!o.hasNext)break;o.done&&(a=!0)}return o.hasNext&&n.push(u),!!a}const Ct={"+":(t,n)=>String(parseFloat(t)+parseFloat(n)),"-":(t,n)=>String(parseFloat(t)-parseFloat(n)),"*":(t,n)=>String(parseFloat(t)*parseFloat(n)),"/":(t,n)=>String(parseFloat(t)/parseFloat(n))},kt=t=>At(jt,st(bt,t),t),Ft=t=>{return st(St,t)in Ct?function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return wt.apply(void 0,function(t,n,r){if(r||2===arguments.length)for(var e,u=0,o=n.length;u<o;u++)!e&&u in n||(e||(e=Array.prototype.slice.call(n,0,u)),e[u]=n[u]);return t.concat(e||Array.prototype.slice.call(n))}([n],t,!1))}}(At(mt,!0),(n=Ct[st(St,t)],t=>At(bt,n(st(jt,t),st(bt,t)),t)))(t):t;var n},qt=a((function(t,n,r){return q(Math.max(t.length,n.length,r.length),(function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)}))})),Et=o((function(t,n){for(var r in t)if(E(r,t)&&!t[r](n[r]))return!1;return!0})),Tt=o((function(t,n){return Et(B(X,t),n)}));function Ut(t){return t}const It=u(Ut),Pt=(19,t=>t.length>19);const Mt=qt(Tt({isPostCalc:!0}),S(At(mt,!1),At(bt,"0")),It),Vt=t=>n=>S(Mt,xt(bt,(t=>n=>Pt(n)?n:(t=>n=>"0"===n&&(t=>/\d/.test(t))(t)?t:n+t)(t)(n))(t)))(n),zt={"+/-":t=>String(-parseFloat(t)),"%":t=>String(parseFloat(t)/100)},Bt=t=>""===t?"0":t,Dt=t=>n=>n=>st(bt,n).includes(t)?n:Vt(t)(n),Lt=Dt("."),Ht=Dt("e"),Rt=et([[ot(ct)(Ct),t=>n=>S(Ft,At(St,t),kt,At(mt,!0))(n)],[ot(ct)(zt),t=>n=>t in zt?At(bt,zt[t](st(bt,n)),n):n],[t=>/^\d$/.test(t),Vt],[X("="),t=>t=>S(Ft,At(St,""),kt)(t)],[X("A/C"),t=>t=>({storedValue:"0",operator:"",displayValue:"0",isPostCalc:!1})],[X("."),Lt],[X("exp"),Ht],[X("delete"),t=>t=>xt(bt,S((0,-1,function(t){return t.slice(0,-1)}),Bt),t)],[ut,ft((t=>t))]]),$t=t=>"Infinity"===st(bt,t)||"-Infinity"===st(bt,t)||"NaN"===st(bt,t)?S(dt,At(bt,"Error"))(t):t,Wt=t=>"Error"===st(bt,t);let Xt=document.querySelector(".calculator");Xt.addEventListener("click",(t=>{t.target&&t.target instanceof HTMLElement&&"BUTTON"===t.target.tagName&&S(et([[Wt,dt],[ut,S(Rt(t.target.innerText),$t)]]),(t=>n=>(Object.assign(t,n),t))(vt),(t=>n=>{let r=t.querySelector(".calculated-value");return r&&(r.innerText=st(bt,n)),n})(Xt))(vt)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxHQUNBLEdBQU0sR0FBYSxTQUZyQixDQUdBNEMsR0FDQUEsRUFHQW1DLEdBQVluQyxHQUNxQixVQUFuQyxHQUFPLEdBQWFBLEdDZnhCLElBQUlvQyxHQUFLQyxTQUFTQyxjQUFjLGVBRWhDRixHQUFHRyxpQkFBaUIsU0FBVUMsSUFDdkJBLEVBQUUxRixRQUNFMEYsRUFBRTFGLGtCQUFrQjJGLGFBQ0MsV0FBckJELEVBQUUxRixPQUFPNEYsU0FDaEIsRUFDSSxHQUFPLENBQ0gsQ0FBQ1AsR0FBVS9FLElBQ1gsQ0FBQyxHQUFLLEVBQ0Z5RSxHQUFZVyxFQUFFMUYsT0FBTzZGLFdBQ3JCVCxPakJRSSxDQUFDeEUsR0FDaEJzQyxJQUNENU4sT0FBT3FNLE9BQU9mLEVBQWFzQyxHQUNwQnRDLEdpQlRIa0YsQ0FBWWxGLElIR0ksQ0FBQzBFLEdBQWlCcEMsSUFDdEMsSUFBSTZDLEVBQWtCVCxFQUFHRSxjQUFjLHFCQUl2QyxPQUhJTyxJQUNBQSxFQUFnQkYsVUFBWSxHQUFPLEdBQWEzQyxJQUU3Q0EsQ0FBUyxFR1BaOEMsQ0FBZ0JWLElBUnBCLENBU0UxRSxHQUFZLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2FyaXR5LmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fcGlwZS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX3BsYWNlaG9sZGVyLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9faXNQbGFjZWhvbGRlci5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2N1cnJ5MS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2N1cnJ5Mi5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2N1cnJ5My5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2lzQXJyYXkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19pc1N0cmluZy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fY3JlYXRlUmVkdWNlLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9feEFycmF5UmVkdWNlLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9iaW5kLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9feFJlZHVjZS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX3h3cmFwLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19jaGVja0Zvck1ldGhvZC5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvdGFpbC5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvc2xpY2UuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL3BpcGUuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19hcnJheVJlZHVjZS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2Rpc3BhdGNoYWJsZS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2lzVHJhbnNmb3JtZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19tYXAuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL194ZkJhc2UuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL194bWFwLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fY3VycnlOLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9jdXJyeU4uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19oYXMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19pc0FyZ3VtZW50cy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMva2V5cy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvbWFwLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fYXJyYXlGcm9tSXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19pbmNsdWRlc1dpdGguanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19vYmplY3RJcy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvdHlwZS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2VxdWFscy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2Z1bmN0aW9uTmFtZS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvZXF1YWxzLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fcXVvdGUuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL190b0lTT1N0cmluZy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX3hmaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2lzT2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fZmlsdGVyLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9yZWplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19jb21wbGVtZW50LmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fdG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ludGVybmFsL19pbmRleE9mLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9faW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL3RvU3RyaW5nLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9tYXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2NvbmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL1QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2ZsaXAuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2lzTmlsLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9oYXNQYXRoLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9oYXMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2Fsd2F5cy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvdmlldy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2lzSW50ZWdlci5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvYXNzb2NQYXRoLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fYXNzb2MuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2xlbnMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL2xlbnNQYXRoLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pbnRlcm5hbC9fcGF0aC5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX250aC5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9zcmMvc3RhdGUudHMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL292ZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vbm9kZV9tb2R1bGVzL3JhbWRhL2VzL3NldC5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmVtZWRhL2Rpc3QvZXMvcGlwZS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9zcmMvYmluYXJ5LW9wLnRzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yZW1lZGEvZGlzdC9lcy9waXBlZC5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaWZFbHNlLmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy93aGVyZS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvd2hlcmVFcS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9ub2RlX21vZHVsZXMvcmFtZGEvZXMvaW50ZXJuYWwvX2lkZW50aXR5LmpzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yYW1kYS9lcy9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9zcmMvZW50ZXItY2hhci50cyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9zcmMvdW5hcnktb3AudHMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vc3JjL21pc2MudHMiLCJ3ZWJwYWNrOi8vb2Rpbi1jYWxjdWxhdG9yLy4vc3JjL3VpLnRzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL25vZGVfbW9kdWxlcy9yZW1lZGEvZGlzdC9lcy9zbGljZVN0cmluZy5qcyIsIndlYnBhY2s6Ly9vZGluLWNhbGN1bGF0b3IvLi9zcmMvaGFuZGxlLWVycm9yLnRzIiwid2VicGFjazovL29kaW4tY2FsY3VsYXRvci8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJpdHkobiwgZm4pIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgc3dpdGNoIChuKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYTApIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYTAsIGExKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIGNhc2UgNDpcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYTAsIGExLCBhMiwgYTMpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIGNhc2UgNTpcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYTAsIGExLCBhMiwgYTMsIGE0KSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICBjYXNlIDY6XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIGNhc2UgNzpcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIGNhc2UgODpcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICBjYXNlIDk6XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIGNhc2UgMTA6XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgsIGE5KSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCB0byBfYXJpdHkgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIG5vIGdyZWF0ZXIgdGhhbiB0ZW4nKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9waXBlKGYsIGcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZy5jYWxsKHRoaXMsIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQge1xuICAnQEBmdW5jdGlvbmFsL3BsYWNlaG9sZGVyJzogdHJ1ZVxufTsiLCJpbXBvcnQgX3BsYWNlaG9sZGVyIGZyb20gXCIuL19wbGFjZWhvbGRlci5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2lzUGxhY2Vob2xkZXIoYSkge1xuICByZXR1cm4gYSA9PT0gX3BsYWNlaG9sZGVyO1xufSIsImltcG9ydCBfaXNQbGFjZWhvbGRlciBmcm9tIFwiLi9faXNQbGFjZWhvbGRlci5qc1wiO1xuXG4vKipcbiAqIE9wdGltaXplZCBpbnRlcm5hbCBvbmUtYXJpdHkgY3VycnkgZnVuY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBjdXJyaWVkIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3VycnkxKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBmMShhKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDAgfHwgX2lzUGxhY2Vob2xkZXIoYSkpIHtcbiAgICAgIHJldHVybiBmMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9O1xufSIsImltcG9ydCBfY3VycnkxIGZyb20gXCIuL19jdXJyeTEuanNcIjtcbmltcG9ydCBfaXNQbGFjZWhvbGRlciBmcm9tIFwiLi9faXNQbGFjZWhvbGRlci5qc1wiO1xuXG4vKipcbiAqIE9wdGltaXplZCBpbnRlcm5hbCB0d28tYXJpdHkgY3VycnkgZnVuY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBjdXJyaWVkIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY3VycnkyKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBmMihhLCBiKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBmMjtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIF9pc1BsYWNlaG9sZGVyKGEpID8gZjIgOiBfY3VycnkxKGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgIHJldHVybiBmbihhLCBfYik7XG4gICAgICAgIH0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIF9pc1BsYWNlaG9sZGVyKGEpICYmIF9pc1BsYWNlaG9sZGVyKGIpID8gZjIgOiBfaXNQbGFjZWhvbGRlcihhKSA/IF9jdXJyeTEoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKF9hLCBiKTtcbiAgICAgICAgfSkgOiBfaXNQbGFjZWhvbGRlcihiKSA/IF9jdXJyeTEoZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKGEsIF9iKTtcbiAgICAgICAgfSkgOiBmbihhLCBiKTtcbiAgICB9XG4gIH07XG59IiwiaW1wb3J0IF9jdXJyeTEgZnJvbSBcIi4vX2N1cnJ5MS5qc1wiO1xuaW1wb3J0IF9jdXJyeTIgZnJvbSBcIi4vX2N1cnJ5Mi5qc1wiO1xuaW1wb3J0IF9pc1BsYWNlaG9sZGVyIGZyb20gXCIuL19pc1BsYWNlaG9sZGVyLmpzXCI7XG5cbi8qKlxuICogT3B0aW1pemVkIGludGVybmFsIHRocmVlLWFyaXR5IGN1cnJ5IGZ1bmN0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgY3VycmllZCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2N1cnJ5Myhmbikge1xuICByZXR1cm4gZnVuY3Rpb24gZjMoYSwgYiwgYykge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gZjM7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBfaXNQbGFjZWhvbGRlcihhKSA/IGYzIDogX2N1cnJ5MihmdW5jdGlvbiAoX2IsIF9jKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKGEsIF9iLCBfYyk7XG4gICAgICAgIH0pO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gX2lzUGxhY2Vob2xkZXIoYSkgJiYgX2lzUGxhY2Vob2xkZXIoYikgPyBmMyA6IF9pc1BsYWNlaG9sZGVyKGEpID8gX2N1cnJ5MihmdW5jdGlvbiAoX2EsIF9jKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKF9hLCBiLCBfYyk7XG4gICAgICAgIH0pIDogX2lzUGxhY2Vob2xkZXIoYikgPyBfY3VycnkyKGZ1bmN0aW9uIChfYiwgX2MpIHtcbiAgICAgICAgICByZXR1cm4gZm4oYSwgX2IsIF9jKTtcbiAgICAgICAgfSkgOiBfY3VycnkxKGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgIHJldHVybiBmbihhLCBiLCBfYyk7XG4gICAgICAgIH0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIF9pc1BsYWNlaG9sZGVyKGEpICYmIF9pc1BsYWNlaG9sZGVyKGIpICYmIF9pc1BsYWNlaG9sZGVyKGMpID8gZjMgOiBfaXNQbGFjZWhvbGRlcihhKSAmJiBfaXNQbGFjZWhvbGRlcihiKSA/IF9jdXJyeTIoZnVuY3Rpb24gKF9hLCBfYikge1xuICAgICAgICAgIHJldHVybiBmbihfYSwgX2IsIGMpO1xuICAgICAgICB9KSA6IF9pc1BsYWNlaG9sZGVyKGEpICYmIF9pc1BsYWNlaG9sZGVyKGMpID8gX2N1cnJ5MihmdW5jdGlvbiAoX2EsIF9jKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKF9hLCBiLCBfYyk7XG4gICAgICAgIH0pIDogX2lzUGxhY2Vob2xkZXIoYikgJiYgX2lzUGxhY2Vob2xkZXIoYykgPyBfY3VycnkyKGZ1bmN0aW9uIChfYiwgX2MpIHtcbiAgICAgICAgICByZXR1cm4gZm4oYSwgX2IsIF9jKTtcbiAgICAgICAgfSkgOiBfaXNQbGFjZWhvbGRlcihhKSA/IF9jdXJyeTEoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKF9hLCBiLCBjKTtcbiAgICAgICAgfSkgOiBfaXNQbGFjZWhvbGRlcihiKSA/IF9jdXJyeTEoZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKGEsIF9iLCBjKTtcbiAgICAgICAgfSkgOiBfaXNQbGFjZWhvbGRlcihjKSA/IF9jdXJyeTEoZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKGEsIGIsIF9jKTtcbiAgICAgICAgfSkgOiBmbihhLCBiLCBjKTtcbiAgICB9XG4gIH07XG59IiwiLyoqXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCBhbiBvYmplY3QgaXMgYW4gYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSBvYmplY3QgdG8gdGVzdC5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBgdmFsYCBpcyBhbiBhcnJheSwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgX2lzQXJyYXkoW10pOyAvLz0+IHRydWVcbiAqICAgICAgX2lzQXJyYXkobnVsbCk7IC8vPT4gZmFsc2VcbiAqICAgICAgX2lzQXJyYXkoe30pOyAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gX2lzQXJyYXkodmFsKSB7XG4gIHJldHVybiB2YWwgIT0gbnVsbCAmJiB2YWwubGVuZ3RoID49IDAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pc1N0cmluZyh4KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xufSIsImltcG9ydCBfY3VycnkxIGZyb20gXCIuL19jdXJyeTEuanNcIjtcbmltcG9ydCBfaXNBcnJheSBmcm9tIFwiLi9faXNBcnJheS5qc1wiO1xuaW1wb3J0IF9pc1N0cmluZyBmcm9tIFwiLi9faXNTdHJpbmcuanNcIjtcblxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCBhbiBvYmplY3QgaXMgc2ltaWxhciB0byBhbiBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNhdGVnb3J5IFR5cGVcbiAqIEBjYXRlZ29yeSBMaXN0XG4gKiBAc2lnICogLT4gQm9vbGVhblxuICogQHBhcmFtIHsqfSB4IFRoZSBvYmplY3QgdG8gdGVzdC5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBgeGAgaGFzIGEgbnVtZXJpYyBsZW5ndGggcHJvcGVydHkgYW5kIGV4dHJlbWUgaW5kaWNlcyBkZWZpbmVkOyBgZmFsc2VgIG90aGVyd2lzZS5cbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBfaXNBcnJheUxpa2UoW10pOyAvLz0+IHRydWVcbiAqICAgICAgX2lzQXJyYXlMaWtlKHRydWUpOyAvLz0+IGZhbHNlXG4gKiAgICAgIF9pc0FycmF5TGlrZSh7fSk7IC8vPT4gZmFsc2VcbiAqICAgICAgX2lzQXJyYXlMaWtlKHtsZW5ndGg6IDEwfSk7IC8vPT4gZmFsc2VcbiAqICAgICAgX2lzQXJyYXlMaWtlKHswOiAnemVybycsIDk6ICduaW5lJywgbGVuZ3RoOiAxMH0pOyAvLz0+IHRydWVcbiAqICAgICAgX2lzQXJyYXlMaWtlKHtub2RlVHlwZTogMSwgbGVuZ3RoOiAxfSkgLy8gPT4gZmFsc2VcbiAqL1xudmFyIF9pc0FycmF5TGlrZSA9IC8qI19fUFVSRV9fKi9fY3VycnkxKGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHgpIHtcbiAgaWYgKF9pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCF4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKF9pc1N0cmluZyh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoeC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoeC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHguaGFzT3duUHJvcGVydHkoMCkgJiYgeC5oYXNPd25Qcm9wZXJ0eSh4Lmxlbmd0aCAtIDEpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgX2lzQXJyYXlMaWtlOyIsImltcG9ydCBfaXNBcnJheUxpa2UgZnJvbSBcIi4vX2lzQXJyYXlMaWtlLmpzXCI7XG52YXIgc3ltSXRlcmF0b3IgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbC5pdGVyYXRvciA6ICdAQGl0ZXJhdG9yJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jcmVhdGVSZWR1Y2UoYXJyYXlSZWR1Y2UsIG1ldGhvZFJlZHVjZSwgaXRlcmFibGVSZWR1Y2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIF9yZWR1Y2UoeGYsIGFjYywgbGlzdCkge1xuICAgIGlmIChfaXNBcnJheUxpa2UobGlzdCkpIHtcbiAgICAgIHJldHVybiBhcnJheVJlZHVjZSh4ZiwgYWNjLCBsaXN0KTtcbiAgICB9XG4gICAgaWYgKGxpc3QgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBsaXN0WydmYW50YXN5LWxhbmQvcmVkdWNlJ10gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBtZXRob2RSZWR1Y2UoeGYsIGFjYywgbGlzdCwgJ2ZhbnRhc3ktbGFuZC9yZWR1Y2UnKTtcbiAgICB9XG4gICAgaWYgKGxpc3Rbc3ltSXRlcmF0b3JdICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZVJlZHVjZSh4ZiwgYWNjLCBsaXN0W3N5bUl0ZXJhdG9yXSgpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBsaXN0Lm5leHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZVJlZHVjZSh4ZiwgYWNjLCBsaXN0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBsaXN0LnJlZHVjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG1ldGhvZFJlZHVjZSh4ZiwgYWNjLCBsaXN0LCAncmVkdWNlJyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3JlZHVjZTogbGlzdCBtdXN0IGJlIGFycmF5IG9yIGl0ZXJhYmxlJyk7XG4gIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3hBcnJheVJlZHVjZSh4ZiwgYWNjLCBsaXN0KSB7XG4gIHZhciBpZHggPSAwO1xuICB2YXIgbGVuID0gbGlzdC5sZW5ndGg7XG4gIHdoaWxlIChpZHggPCBsZW4pIHtcbiAgICBhY2MgPSB4ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShhY2MsIGxpc3RbaWR4XSk7XG4gICAgaWYgKGFjYyAmJiBhY2NbJ0BAdHJhbnNkdWNlci9yZWR1Y2VkJ10pIHtcbiAgICAgIGFjYyA9IGFjY1snQEB0cmFuc2R1Y2VyL3ZhbHVlJ107XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWR4ICs9IDE7XG4gIH1cbiAgcmV0dXJuIHhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10oYWNjKTtcbn0iLCJpbXBvcnQgX2FyaXR5IGZyb20gXCIuL2ludGVybmFsL19hcml0eS5qc1wiO1xuaW1wb3J0IF9jdXJyeTIgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5Mi5qc1wiO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIGJvdW5kIHRvIGEgY29udGV4dC5cbiAqIE5vdGU6IGBSLmJpbmRgIGRvZXMgbm90IHByb3ZpZGUgdGhlIGFkZGl0aW9uYWwgYXJndW1lbnQtYmluZGluZyBjYXBhYmlsaXRpZXMgb2ZcbiAqIFtGdW5jdGlvbi5wcm90b3R5cGUuYmluZF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vYmluZCkuXG4gKlxuICogQGZ1bmNcbiAqIEBtZW1iZXJPZiBSXG4gKiBAc2luY2UgdjAuNi4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBzaWcgKCogLT4gKikgLT4geyp9IC0+ICgqIC0+ICopXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gYmluZCB0byBjb250ZXh0XG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc09iaiBUaGUgY29udGV4dCB0byBiaW5kIGBmbmAgdG9cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBleGVjdXRlIGluIHRoZSBjb250ZXh0IG9mIGB0aGlzT2JqYC5cbiAqIEBzZWUgUi5wYXJ0aWFsXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgY29uc3QgbG9nID0gUi5iaW5kKGNvbnNvbGUubG9nLCBjb25zb2xlKTtcbiAqICAgICAgUi5waXBlKFIuYXNzb2MoJ2EnLCAyKSwgUi50YXAobG9nKSwgUi5hc3NvYygnYScsIDMpKSh7YTogMX0pOyAvLz0+IHthOiAzfVxuICogICAgICAvLyBsb2dzIHthOiAyfVxuICogQHN5bWIgUi5iaW5kKGYsIG8pKGEsIGIpID0gZi5jYWxsKG8sIGEsIGIpXG4gKi9cbnZhciBiaW5kID0gLyojX19QVVJFX18qL19jdXJyeTIoZnVuY3Rpb24gYmluZChmbiwgdGhpc09iaikge1xuICByZXR1cm4gX2FyaXR5KGZuLmxlbmd0aCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzT2JqLCBhcmd1bWVudHMpO1xuICB9KTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgYmluZDsiLCJpbXBvcnQgX2NyZWF0ZVJlZHVjZSBmcm9tIFwiLi9fY3JlYXRlUmVkdWNlLmpzXCI7XG5pbXBvcnQgX3hBcnJheVJlZHVjZSBmcm9tIFwiLi9feEFycmF5UmVkdWNlLmpzXCI7XG5pbXBvcnQgYmluZCBmcm9tIFwiLi4vYmluZC5qc1wiO1xuZnVuY3Rpb24gX3hJdGVyYWJsZVJlZHVjZSh4ZiwgYWNjLCBpdGVyKSB7XG4gIHZhciBzdGVwID0gaXRlci5uZXh0KCk7XG4gIHdoaWxlICghc3RlcC5kb25lKSB7XG4gICAgYWNjID0geGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10oYWNjLCBzdGVwLnZhbHVlKTtcbiAgICBpZiAoYWNjICYmIGFjY1snQEB0cmFuc2R1Y2VyL3JlZHVjZWQnXSkge1xuICAgICAgYWNjID0gYWNjWydAQHRyYW5zZHVjZXIvdmFsdWUnXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzdGVwID0gaXRlci5uZXh0KCk7XG4gIH1cbiAgcmV0dXJuIHhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10oYWNjKTtcbn1cbmZ1bmN0aW9uIF94TWV0aG9kUmVkdWNlKHhmLCBhY2MsIG9iaiwgbWV0aG9kTmFtZSkge1xuICByZXR1cm4geGZbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXShvYmpbbWV0aG9kTmFtZV0oYmluZCh4ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSwgeGYpLCBhY2MpKTtcbn1cbnZhciBfeFJlZHVjZSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlUmVkdWNlKF94QXJyYXlSZWR1Y2UsIF94TWV0aG9kUmVkdWNlLCBfeEl0ZXJhYmxlUmVkdWNlKTtcbmV4cG9ydCBkZWZhdWx0IF94UmVkdWNlOyIsInZhciBYV3JhcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFhXcmFwKGZuKSB7XG4gICAgdGhpcy5mID0gZm47XG4gIH1cbiAgWFdyYXAucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvaW5pdCddID0gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW5pdCBub3QgaW1wbGVtZW50ZWQgb24gWFdyYXAnKTtcbiAgfTtcbiAgWFdyYXAucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBmdW5jdGlvbiAoYWNjKSB7XG4gICAgcmV0dXJuIGFjYztcbiAgfTtcbiAgWFdyYXAucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvc3RlcCddID0gZnVuY3Rpb24gKGFjYywgeCkge1xuICAgIHJldHVybiB0aGlzLmYoYWNjLCB4KTtcbiAgfTtcbiAgcmV0dXJuIFhXcmFwO1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3h3cmFwKGZuKSB7XG4gIHJldHVybiBuZXcgWFdyYXAoZm4pO1xufSIsImltcG9ydCBfY3VycnkzIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTMuanNcIjtcbmltcG9ydCBfeFJlZHVjZSBmcm9tIFwiLi9pbnRlcm5hbC9feFJlZHVjZS5qc1wiO1xuaW1wb3J0IF94d3JhcCBmcm9tIFwiLi9pbnRlcm5hbC9feHdyYXAuanNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIGEgc2luZ2xlIGl0ZW0gYnkgaXRlcmF0aW5nIHRocm91Z2ggdGhlIGxpc3QsIHN1Y2Nlc3NpdmVseSBjYWxsaW5nXG4gKiB0aGUgaXRlcmF0b3IgZnVuY3Rpb24gYW5kIHBhc3NpbmcgaXQgYW4gYWNjdW11bGF0b3IgdmFsdWUgYW5kIHRoZSBjdXJyZW50XG4gKiB2YWx1ZSBmcm9tIHRoZSBhcnJheSwgYW5kIHRoZW4gcGFzc2luZyB0aGUgcmVzdWx0IHRvIHRoZSBuZXh0IGNhbGwuXG4gKlxuICogVGhlIGl0ZXJhdG9yIGZ1bmN0aW9uIHJlY2VpdmVzIHR3byB2YWx1ZXM6ICooYWNjLCB2YWx1ZSkqLiBJdCBtYXkgdXNlXG4gKiBbYFIucmVkdWNlZGBdKCNyZWR1Y2VkKSB0byBzaG9ydGN1dCB0aGUgaXRlcmF0aW9uLlxuICpcbiAqIFRoZSBhcmd1bWVudHMnIG9yZGVyIG9mIFtgcmVkdWNlUmlnaHRgXSgjcmVkdWNlUmlnaHQpJ3MgaXRlcmF0b3IgZnVuY3Rpb25cbiAqIGlzICoodmFsdWUsIGFjYykqLlxuICpcbiAqIE5vdGU6IGBSLnJlZHVjZWAgZG9lcyBub3Qgc2tpcCBkZWxldGVkIG9yIHVuYXNzaWduZWQgaW5kaWNlcyAoc3BhcnNlXG4gKiBhcnJheXMpLCB1bmxpa2UgdGhlIG5hdGl2ZSBgQXJyYXkucHJvdG90eXBlLnJlZHVjZWAgbWV0aG9kLiBGb3IgbW9yZSBkZXRhaWxzXG4gKiBvbiB0aGlzIGJlaGF2aW9yLCBzZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZWR1Y2UjRGVzY3JpcHRpb25cbiAqXG4gKiBCZSBjYXV0aW91cyBvZiBtdXRhdGluZyBhbmQgcmV0dXJuaW5nIHRoZSBhY2N1bXVsYXRvci4gSWYgeW91IHJldXNlIGl0IGFjcm9zc1xuICogaW52b2NhdGlvbnMsIGl0IHdpbGwgY29udGludWUgdG8gYWNjdW11bGF0ZSBvbnRvIHRoZSBzYW1lIHZhbHVlLiBUaGUgZ2VuZXJhbFxuICogcmVjb21tZW5kYXRpb24gaXMgdG8gYWx3YXlzIHJldHVybiBhIG5ldyB2YWx1ZS4gSWYgeW91IGNhbid0IGRvIHNvIGZvclxuICogcGVyZm9ybWFuY2UgcmVhc29ucywgdGhlbiBiZSBzdXJlIHRvIHJlaW5pdGlhbGl6ZSB0aGUgYWNjdW11bGF0b3Igb24gZWFjaFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiBEaXNwYXRjaGVzIHRvIHRoZSBgcmVkdWNlYCBtZXRob2Qgb2YgdGhlIHRoaXJkIGFyZ3VtZW50LCBpZiBwcmVzZW50LiBXaGVuXG4gKiBkb2luZyBzbywgaXQgaXMgdXAgdG8gdGhlIHVzZXIgdG8gaGFuZGxlIHRoZSBbYFIucmVkdWNlZGBdKCNyZWR1Y2VkKVxuICogc2hvcnRjdXRpbmcsIGFzIHRoaXMgaXMgbm90IGltcGxlbWVudGVkIGJ5IGByZWR1Y2VgLlxuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjEuMFxuICogQGNhdGVnb3J5IExpc3RcbiAqIEBzaWcgKChhLCBiKSAtPiBhKSAtPiBhIC0+IFtiXSAtPiBhXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgaXRlcmF0b3IgZnVuY3Rpb24uIFJlY2VpdmVzIHR3byB2YWx1ZXMsIHRoZSBhY2N1bXVsYXRvciBhbmQgdGhlXG4gKiAgICAgICAgY3VycmVudCBlbGVtZW50IGZyb20gdGhlIGFycmF5LlxuICogQHBhcmFtIHsqfSBhY2MgVGhlIGFjY3VtdWxhdG9yIHZhbHVlLlxuICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgbGlzdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcmV0dXJuIHsqfSBUaGUgZmluYWwsIGFjY3VtdWxhdGVkIHZhbHVlLlxuICogQHNlZSBSLnJlZHVjZWQsIFIuYWRkSW5kZXgsIFIucmVkdWNlUmlnaHRcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBSLnJlZHVjZShSLnN1YnRyYWN0LCAwLCBbMSwgMiwgMywgNF0pIC8vID0+ICgoKCgwIC0gMSkgLSAyKSAtIDMpIC0gNCkgPSAtMTBcbiAqICAgICAgLy8gICAgICAgICAgLSAgICAgICAgICAgICAgIC0xMFxuICogICAgICAvLyAgICAgICAgIC8gXFwgICAgICAgICAgICAgIC8gXFxcbiAqICAgICAgLy8gICAgICAgIC0gICA0ICAgICAgICAgICAtNiAgIDRcbiAqICAgICAgLy8gICAgICAgLyBcXCAgICAgICAgICAgICAgLyBcXFxuICogICAgICAvLyAgICAgIC0gICAzICAgPT0+ICAgICAtMyAgIDNcbiAqICAgICAgLy8gICAgIC8gXFwgICAgICAgICAgICAgIC8gXFxcbiAqICAgICAgLy8gICAgLSAgIDIgICAgICAgICAgIC0xICAgMlxuICogICAgICAvLyAgIC8gXFwgICAgICAgICAgICAgIC8gXFxcbiAqICAgICAgLy8gIDAgICAxICAgICAgICAgICAgMCAgIDFcbiAqXG4gKiBAc3ltYiBSLnJlZHVjZShmLCBhLCBbYiwgYywgZF0pID0gZihmKGYoYSwgYiksIGMpLCBkKVxuICovXG52YXIgcmVkdWNlID0gLyojX19QVVJFX18qL19jdXJyeTMoZnVuY3Rpb24gKHhmLCBhY2MsIGxpc3QpIHtcbiAgcmV0dXJuIF94UmVkdWNlKHR5cGVvZiB4ZiA9PT0gJ2Z1bmN0aW9uJyA/IF94d3JhcCh4ZikgOiB4ZiwgYWNjLCBsaXN0KTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgcmVkdWNlOyIsImltcG9ydCBfaXNBcnJheSBmcm9tIFwiLi9faXNBcnJheS5qc1wiO1xuXG4vKipcbiAqIFRoaXMgY2hlY2tzIHdoZXRoZXIgYSBmdW5jdGlvbiBoYXMgYSBbbWV0aG9kbmFtZV0gZnVuY3Rpb24uIElmIGl0IGlzbid0IGFuXG4gKiBhcnJheSBpdCB3aWxsIGV4ZWN1dGUgdGhhdCBmdW5jdGlvbiBvdGhlcndpc2UgaXQgd2lsbCBkZWZhdWx0IHRvIHRoZSByYW1kYVxuICogaW1wbGVtZW50YXRpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIHJhbWRhIGltcGxlbWVudGF0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kbmFtZSBwcm9wZXJ0eSB0byBjaGVjayBmb3IgYSBjdXN0b20gaW1wbGVtZW50YXRpb25cbiAqIEByZXR1cm4ge09iamVjdH0gV2hhdGV2ZXIgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgbWV0aG9kIGlzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfY2hlY2tGb3JNZXRob2QobWV0aG9kbmFtZSwgZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZm4oKTtcbiAgICB9XG4gICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tsZW5ndGggLSAxXTtcbiAgICByZXR1cm4gX2lzQXJyYXkob2JqKSB8fCB0eXBlb2Ygb2JqW21ldGhvZG5hbWVdICE9PSAnZnVuY3Rpb24nID8gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IG9ialttZXRob2RuYW1lXS5hcHBseShvYmosIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCwgbGVuZ3RoIC0gMSkpO1xuICB9O1xufSIsImltcG9ydCBfY2hlY2tGb3JNZXRob2QgZnJvbSBcIi4vaW50ZXJuYWwvX2NoZWNrRm9yTWV0aG9kLmpzXCI7XG5pbXBvcnQgX2N1cnJ5MSBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkxLmpzXCI7XG5pbXBvcnQgc2xpY2UgZnJvbSBcIi4vc2xpY2UuanNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGdpdmVuIGxpc3Qgb3Igc3RyaW5nIChvciBvYmplY3RcbiAqIHdpdGggYSBgdGFpbGAgbWV0aG9kKS5cbiAqXG4gKiBEaXNwYXRjaGVzIHRvIHRoZSBgc2xpY2VgIG1ldGhvZCBvZiB0aGUgZmlyc3QgYXJndW1lbnQsIGlmIHByZXNlbnQuXG4gKlxuICogQGZ1bmNcbiAqIEBtZW1iZXJPZiBSXG4gKiBAc2luY2UgdjAuMS4wXG4gKiBAY2F0ZWdvcnkgTGlzdFxuICogQHNpZyBbYV0gLT4gW2FdXG4gKiBAc2lnIFN0cmluZyAtPiBTdHJpbmdcbiAqIEBwYXJhbSB7Kn0gbGlzdFxuICogQHJldHVybiB7Kn1cbiAqIEBzZWUgUi5oZWFkLCBSLmluaXQsIFIubGFzdFxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgIFIudGFpbChbMSwgMiwgM10pOyAgLy89PiBbMiwgM11cbiAqICAgICAgUi50YWlsKFsxLCAyXSk7ICAgICAvLz0+IFsyXVxuICogICAgICBSLnRhaWwoWzFdKTsgICAgICAgIC8vPT4gW11cbiAqICAgICAgUi50YWlsKFtdKTsgICAgICAgICAvLz0+IFtdXG4gKlxuICogICAgICBSLnRhaWwoJ2FiYycpOyAgLy89PiAnYmMnXG4gKiAgICAgIFIudGFpbCgnYWInKTsgICAvLz0+ICdiJ1xuICogICAgICBSLnRhaWwoJ2EnKTsgICAgLy89PiAnJ1xuICogICAgICBSLnRhaWwoJycpOyAgICAgLy89PiAnJ1xuICovXG52YXIgdGFpbCA9IC8qI19fUFVSRV9fKi9fY3VycnkxKCAvKiNfX1BVUkVfXyovX2NoZWNrRm9yTWV0aG9kKCd0YWlsJywgLyojX19QVVJFX18qL3NsaWNlKDEsIEluZmluaXR5KSkpO1xuZXhwb3J0IGRlZmF1bHQgdGFpbDsiLCJpbXBvcnQgX2NoZWNrRm9yTWV0aG9kIGZyb20gXCIuL2ludGVybmFsL19jaGVja0Zvck1ldGhvZC5qc1wiO1xuaW1wb3J0IF9jdXJyeTMgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5My5qc1wiO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBsaXN0IG9yIHN0cmluZyAob3Igb2JqZWN0IHdpdGggYSBgc2xpY2VgXG4gKiBtZXRob2QpIGZyb20gYGZyb21JbmRleGAgKGluY2x1c2l2ZSkgdG8gYHRvSW5kZXhgIChleGNsdXNpdmUpLlxuICpcbiAqIERpc3BhdGNoZXMgdG8gdGhlIGBzbGljZWAgbWV0aG9kIG9mIHRoZSB0aGlyZCBhcmd1bWVudCwgaWYgcHJlc2VudC5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xLjRcbiAqIEBjYXRlZ29yeSBMaXN0XG4gKiBAc2lnIE51bWJlciAtPiBOdW1iZXIgLT4gW2FdIC0+IFthXVxuICogQHNpZyBOdW1iZXIgLT4gTnVtYmVyIC0+IFN0cmluZyAtPiBTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBmcm9tSW5kZXggVGhlIHN0YXJ0IGluZGV4IChpbmNsdXNpdmUpLlxuICogQHBhcmFtIHtOdW1iZXJ9IHRvSW5kZXggVGhlIGVuZCBpbmRleCAoZXhjbHVzaXZlKS5cbiAqIEBwYXJhbSB7Kn0gbGlzdFxuICogQHJldHVybiB7Kn1cbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBSLnNsaWNlKDEsIDMsIFsnYScsICdiJywgJ2MnLCAnZCddKTsgICAgICAgIC8vPT4gWydiJywgJ2MnXVxuICogICAgICBSLnNsaWNlKDEsIEluZmluaXR5LCBbJ2EnLCAnYicsICdjJywgJ2QnXSk7IC8vPT4gWydiJywgJ2MnLCAnZCddXG4gKiAgICAgIFIuc2xpY2UoMCwgLTEsIFsnYScsICdiJywgJ2MnLCAnZCddKTsgICAgICAgLy89PiBbJ2EnLCAnYicsICdjJ11cbiAqICAgICAgUi5zbGljZSgtMywgLTEsIFsnYScsICdiJywgJ2MnLCAnZCddKTsgICAgICAvLz0+IFsnYicsICdjJ11cbiAqICAgICAgUi5zbGljZSgwLCAzLCAncmFtZGEnKTsgICAgICAgICAgICAgICAgICAgICAvLz0+ICdyYW0nXG4gKi9cbnZhciBzbGljZSA9IC8qI19fUFVSRV9fKi9fY3VycnkzKCAvKiNfX1BVUkVfXyovX2NoZWNrRm9yTWV0aG9kKCdzbGljZScsIGZ1bmN0aW9uIHNsaWNlKGZyb21JbmRleCwgdG9JbmRleCwgbGlzdCkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobGlzdCwgZnJvbUluZGV4LCB0b0luZGV4KTtcbn0pKTtcbmV4cG9ydCBkZWZhdWx0IHNsaWNlOyIsImltcG9ydCBfYXJpdHkgZnJvbSBcIi4vaW50ZXJuYWwvX2FyaXR5LmpzXCI7XG5pbXBvcnQgX3BpcGUgZnJvbSBcIi4vaW50ZXJuYWwvX3BpcGUuanNcIjtcbmltcG9ydCByZWR1Y2UgZnJvbSBcIi4vcmVkdWNlLmpzXCI7XG5pbXBvcnQgdGFpbCBmcm9tIFwiLi90YWlsLmpzXCI7XG5cbi8qKlxuICogUGVyZm9ybXMgbGVmdC10by1yaWdodCBmdW5jdGlvbiBjb21wb3NpdGlvbi4gVGhlIGZpcnN0IGFyZ3VtZW50IG1heSBoYXZlXG4gKiBhbnkgYXJpdHk7IHRoZSByZW1haW5pbmcgYXJndW1lbnRzIG11c3QgYmUgdW5hcnkuXG4gKlxuICogSW4gc29tZSBsaWJyYXJpZXMgdGhpcyBmdW5jdGlvbiBpcyBuYW1lZCBgc2VxdWVuY2VgLlxuICpcbiAqICoqTm90ZToqKiBUaGUgcmVzdWx0IG9mIHBpcGUgaXMgbm90IGF1dG9tYXRpY2FsbHkgY3VycmllZC5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHNpZyAoKChhLCBiLCAuLi4sIG4pIC0+IG8pLCAobyAtPiBwKSwgLi4uLCAoeCAtPiB5KSwgKHkgLT4geikpIC0+ICgoYSwgYiwgLi4uLCBuKSAtPiB6KVxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3Rpb25zXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBzZWUgUi5jb21wb3NlXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgY29uc3QgZiA9IFIucGlwZShNYXRoLnBvdywgUi5uZWdhdGUsIFIuaW5jKTtcbiAqXG4gKiAgICAgIGYoMywgNCk7IC8vIC0oM140KSArIDFcbiAqIEBzeW1iIFIucGlwZShmLCBnLCBoKShhLCBiKSA9IGgoZyhmKGEsIGIpKSlcbiAqIEBzeW1iIFIucGlwZShmLCBnLCBoKShhKShiKSA9IGgoZyhmKGEpKSkoYilcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3BpcGUgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGFyZ3VtZW50Jyk7XG4gIH1cbiAgcmV0dXJuIF9hcml0eShhcmd1bWVudHNbMF0ubGVuZ3RoLCByZWR1Y2UoX3BpcGUsIGFyZ3VtZW50c1swXSwgdGFpbChhcmd1bWVudHMpKSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5UmVkdWNlKHJlZHVjZXIsIGFjYywgbGlzdCkge1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGFjYyA9IHJlZHVjZXIoYWNjLCBsaXN0W2luZGV4XSk7XG4gICAgaW5kZXggKz0gMTtcbiAgfVxuICByZXR1cm4gYWNjO1xufSIsImltcG9ydCBfaXNBcnJheSBmcm9tIFwiLi9faXNBcnJheS5qc1wiO1xuaW1wb3J0IF9pc1RyYW5zZm9ybWVyIGZyb20gXCIuL19pc1RyYW5zZm9ybWVyLmpzXCI7XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgZGlzcGF0Y2hlcyB3aXRoIGRpZmZlcmVudCBzdHJhdGVnaWVzIGJhc2VkIG9uIHRoZVxuICogb2JqZWN0IGluIGxpc3QgcG9zaXRpb24gKGxhc3QgYXJndW1lbnQpLiBJZiBpdCBpcyBhbiBhcnJheSwgZXhlY3V0ZXMgW2ZuXS5cbiAqIE90aGVyd2lzZSwgaWYgaXQgaGFzIGEgZnVuY3Rpb24gd2l0aCBvbmUgb2YgdGhlIGdpdmVuIG1ldGhvZCBuYW1lcywgaXQgd2lsbFxuICogZXhlY3V0ZSB0aGF0IGZ1bmN0aW9uIChmdW5jdG9yIGNhc2UpLiBPdGhlcndpc2UsIGlmIGl0IGlzIGEgdHJhbnNmb3JtZXIsXG4gKiB1c2VzIHRyYW5zZHVjZXIgY3JlYXRlZCBieSBbdHJhbnNkdWNlckNyZWF0b3JdIHRvIHJldHVybiBhIG5ldyB0cmFuc2Zvcm1lclxuICogKHRyYW5zZHVjZXIgY2FzZSkuXG4gKiBPdGhlcndpc2UsIGl0IHdpbGwgZGVmYXVsdCB0byBleGVjdXRpbmcgW2ZuXS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gbWV0aG9kTmFtZXMgcHJvcGVydGllcyB0byBjaGVjayBmb3IgYSBjdXN0b20gaW1wbGVtZW50YXRpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZHVjZXJDcmVhdG9yIHRyYW5zZHVjZXIgZmFjdG9yeSBpZiBvYmplY3QgaXMgdHJhbnNmb3JtZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIGRlZmF1bHQgcmFtZGEgaW1wbGVtZW50YXRpb25cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRoYXQgZGlzcGF0Y2hlcyBvbiBvYmplY3QgaW4gbGlzdCBwb3NpdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZGlzcGF0Y2hhYmxlKG1ldGhvZE5hbWVzLCB0cmFuc2R1Y2VyQ3JlYXRvciwgZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfVxuICAgIHZhciBvYmogPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmICghX2lzQXJyYXkob2JqKSkge1xuICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICB3aGlsZSAoaWR4IDwgbWV0aG9kTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW21ldGhvZE5hbWVzW2lkeF1dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialttZXRob2ROYW1lc1tpZHhdXS5hcHBseShvYmosIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCwgLTEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZHggKz0gMTtcbiAgICAgIH1cbiAgICAgIGlmIChfaXNUcmFuc2Zvcm1lcihvYmopKSB7XG4gICAgICAgIHZhciB0cmFuc2R1Y2VyID0gdHJhbnNkdWNlckNyZWF0b3IuYXBwbHkobnVsbCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwLCAtMSkpO1xuICAgICAgICByZXR1cm4gdHJhbnNkdWNlcihvYmopO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXNUcmFuc2Zvcm1lcihvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmpbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPT09ICdmdW5jdGlvbic7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX21hcChmbiwgZnVuY3Rvcikge1xuICB2YXIgaWR4ID0gMDtcbiAgdmFyIGxlbiA9IGZ1bmN0b3IubGVuZ3RoO1xuICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuKTtcbiAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgIHJlc3VsdFtpZHhdID0gZm4oZnVuY3RvcltpZHhdKTtcbiAgICBpZHggKz0gMTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSIsImV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvaW5pdCddKCk7XG4gIH0sXG4gIHJlc3VsdDogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHJldHVybiB0aGlzLnhmWydAQHRyYW5zZHVjZXIvcmVzdWx0J10ocmVzdWx0KTtcbiAgfVxufTsiLCJpbXBvcnQgX3hmQmFzZSBmcm9tIFwiLi9feGZCYXNlLmpzXCI7XG52YXIgWE1hcCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFhNYXAoZiwgeGYpIHtcbiAgICB0aGlzLnhmID0geGY7XG4gICAgdGhpcy5mID0gZjtcbiAgfVxuICBYTWFwLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL2luaXQnXSA9IF94ZkJhc2UuaW5pdDtcbiAgWE1hcC5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9yZXN1bHQnXSA9IF94ZkJhc2UucmVzdWx0O1xuICBYTWFwLnByb3RvdHlwZVsnQEB0cmFuc2R1Y2VyL3N0ZXAnXSA9IGZ1bmN0aW9uIChyZXN1bHQsIGlucHV0KSB7XG4gICAgcmV0dXJuIHRoaXMueGZbJ0BAdHJhbnNkdWNlci9zdGVwJ10ocmVzdWx0LCB0aGlzLmYoaW5wdXQpKTtcbiAgfTtcbiAgcmV0dXJuIFhNYXA7XG59KCk7XG52YXIgX3htYXAgPSBmdW5jdGlvbiBfeG1hcChmKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoeGYpIHtcbiAgICByZXR1cm4gbmV3IFhNYXAoZiwgeGYpO1xuICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IF94bWFwOyIsImltcG9ydCBfYXJpdHkgZnJvbSBcIi4vX2FyaXR5LmpzXCI7XG5pbXBvcnQgX2lzUGxhY2Vob2xkZXIgZnJvbSBcIi4vX2lzUGxhY2Vob2xkZXIuanNcIjtcblxuLyoqXG4gKiBJbnRlcm5hbCBjdXJyeU4gZnVuY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgYXJpdHkgb2YgdGhlIGN1cnJpZWQgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0FycmF5fSByZWNlaXZlZCBBbiBhcnJheSBvZiBhcmd1bWVudHMgcmVjZWl2ZWQgdGh1cyBmYXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGN1cnJpZWQgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jdXJyeU4obGVuZ3RoLCByZWNlaXZlZCwgZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29tYmluZWQgPSBbXTtcbiAgICB2YXIgYXJnc0lkeCA9IDA7XG4gICAgdmFyIGxlZnQgPSBsZW5ndGg7XG4gICAgdmFyIGNvbWJpbmVkSWR4ID0gMDtcbiAgICB2YXIgaGFzUGxhY2Vob2xkZXIgPSBmYWxzZTtcbiAgICB3aGlsZSAoY29tYmluZWRJZHggPCByZWNlaXZlZC5sZW5ndGggfHwgYXJnc0lkeCA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAoY29tYmluZWRJZHggPCByZWNlaXZlZC5sZW5ndGggJiYgKCFfaXNQbGFjZWhvbGRlcihyZWNlaXZlZFtjb21iaW5lZElkeF0pIHx8IGFyZ3NJZHggPj0gYXJndW1lbnRzLmxlbmd0aCkpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVjZWl2ZWRbY29tYmluZWRJZHhdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gYXJndW1lbnRzW2FyZ3NJZHhdO1xuICAgICAgICBhcmdzSWR4ICs9IDE7XG4gICAgICB9XG4gICAgICBjb21iaW5lZFtjb21iaW5lZElkeF0gPSByZXN1bHQ7XG4gICAgICBpZiAoIV9pc1BsYWNlaG9sZGVyKHJlc3VsdCkpIHtcbiAgICAgICAgbGVmdCAtPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFzUGxhY2Vob2xkZXIgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY29tYmluZWRJZHggKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuICFoYXNQbGFjZWhvbGRlciAmJiBsZWZ0IDw9IDAgPyBmbi5hcHBseSh0aGlzLCBjb21iaW5lZCkgOiBfYXJpdHkoTWF0aC5tYXgoMCwgbGVmdCksIF9jdXJyeU4obGVuZ3RoLCBjb21iaW5lZCwgZm4pKTtcbiAgfTtcbn0iLCJpbXBvcnQgX2FyaXR5IGZyb20gXCIuL2ludGVybmFsL19hcml0eS5qc1wiO1xuaW1wb3J0IF9jdXJyeTEgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5MS5qc1wiO1xuaW1wb3J0IF9jdXJyeTIgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5Mi5qc1wiO1xuaW1wb3J0IF9jdXJyeU4gZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5Ti5qc1wiO1xuXG4vKipcbiAqIFJldHVybnMgYSBjdXJyaWVkIGVxdWl2YWxlbnQgb2YgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uLCB3aXRoIHRoZSBzcGVjaWZpZWRcbiAqIGFyaXR5LiBUaGUgY3VycmllZCBmdW5jdGlvbiBoYXMgdHdvIHVudXN1YWwgY2FwYWJpbGl0aWVzLiBGaXJzdCwgaXRzXG4gKiBhcmd1bWVudHMgbmVlZG4ndCBiZSBwcm92aWRlZCBvbmUgYXQgYSB0aW1lLiBJZiBgZ2AgaXMgYFIuY3VycnlOKDMsIGYpYCwgdGhlXG4gKiBmb2xsb3dpbmcgYXJlIGVxdWl2YWxlbnQ6XG4gKlxuICogICAtIGBnKDEpKDIpKDMpYFxuICogICAtIGBnKDEpKDIsIDMpYFxuICogICAtIGBnKDEsIDIpKDMpYFxuICogICAtIGBnKDEsIDIsIDMpYFxuICpcbiAqIFNlY29uZGx5LCB0aGUgc3BlY2lhbCBwbGFjZWhvbGRlciB2YWx1ZSBbYFIuX19gXSgjX18pIG1heSBiZSB1c2VkIHRvIHNwZWNpZnlcbiAqIFwiZ2Fwc1wiLCBhbGxvd2luZyBwYXJ0aWFsIGFwcGxpY2F0aW9uIG9mIGFueSBjb21iaW5hdGlvbiBvZiBhcmd1bWVudHMsXG4gKiByZWdhcmRsZXNzIG9mIHRoZWlyIHBvc2l0aW9ucy4gSWYgYGdgIGlzIGFzIGFib3ZlIGFuZCBgX2AgaXMgW2BSLl9fYF0oI19fKSxcbiAqIHRoZSBmb2xsb3dpbmcgYXJlIGVxdWl2YWxlbnQ6XG4gKlxuICogICAtIGBnKDEsIDIsIDMpYFxuICogICAtIGBnKF8sIDIsIDMpKDEpYFxuICogICAtIGBnKF8sIF8sIDMpKDEpKDIpYFxuICogICAtIGBnKF8sIF8sIDMpKDEsIDIpYFxuICogICAtIGBnKF8sIDIpKDEpKDMpYFxuICogICAtIGBnKF8sIDIpKDEsIDMpYFxuICogICAtIGBnKF8sIDIpKF8sIDMpKDEpYFxuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjUuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAc2lnIE51bWJlciAtPiAoKiAtPiBhKSAtPiAoKiAtPiBhKVxuICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgYXJpdHkgZm9yIHRoZSByZXR1cm5lZCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIG5ldywgY3VycmllZCBmdW5jdGlvbi5cbiAqIEBzZWUgUi5jdXJyeVxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgIGNvbnN0IHN1bUFyZ3MgPSAoLi4uYXJncykgPT4gUi5zdW0oYXJncyk7XG4gKlxuICogICAgICBjb25zdCBjdXJyaWVkQWRkRm91ck51bWJlcnMgPSBSLmN1cnJ5Tig0LCBzdW1BcmdzKTtcbiAqICAgICAgY29uc3QgZiA9IGN1cnJpZWRBZGRGb3VyTnVtYmVycygxLCAyKTtcbiAqICAgICAgY29uc3QgZyA9IGYoMyk7XG4gKiAgICAgIGcoNCk7IC8vPT4gMTBcbiAqL1xudmFyIGN1cnJ5TiA9IC8qI19fUFVSRV9fKi9fY3VycnkyKGZ1bmN0aW9uIGN1cnJ5TihsZW5ndGgsIGZuKSB7XG4gIGlmIChsZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gX2N1cnJ5MShmbik7XG4gIH1cbiAgcmV0dXJuIF9hcml0eShsZW5ndGgsIF9jdXJyeU4obGVuZ3RoLCBbXSwgZm4pKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgY3VycnlOOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9oYXMocHJvcCwgb2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn0iLCJpbXBvcnQgX2hhcyBmcm9tIFwiLi9faGFzLmpzXCI7XG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIF9pc0FyZ3VtZW50cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFyZ3VtZW50cykgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nID8gZnVuY3Rpb24gX2lzQXJndW1lbnRzKHgpIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG4gIH0gOiBmdW5jdGlvbiBfaXNBcmd1bWVudHMoeCkge1xuICAgIHJldHVybiBfaGFzKCdjYWxsZWUnLCB4KTtcbiAgfTtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IF9pc0FyZ3VtZW50czsiLCJpbXBvcnQgX2N1cnJ5MSBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkxLmpzXCI7XG5pbXBvcnQgX2hhcyBmcm9tIFwiLi9pbnRlcm5hbC9faGFzLmpzXCI7XG5pbXBvcnQgX2lzQXJndW1lbnRzIGZyb20gXCIuL2ludGVybmFsL19pc0FyZ3VtZW50cy5qc1wiO1xuXG4vLyBjb3ZlciBJRSA8IDkga2V5cyBpc3N1ZXNcbnZhciBoYXNFbnVtQnVnID0gISAvKiNfX1BVUkVfXyove1xuICB0b1N0cmluZzogbnVsbFxufS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKTtcbnZhciBub25FbnVtZXJhYmxlUHJvcHMgPSBbJ2NvbnN0cnVjdG9yJywgJ3ZhbHVlT2YnLCAnaXNQcm90b3R5cGVPZicsICd0b1N0cmluZycsICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdoYXNPd25Qcm9wZXJ0eScsICd0b0xvY2FsZVN0cmluZyddO1xuLy8gU2FmYXJpIGJ1Z1xudmFyIGhhc0FyZ3NFbnVtQnVnID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiBhcmd1bWVudHMucHJvcGVydHlJc0VudW1lcmFibGUoJ2xlbmd0aCcpO1xufSgpO1xudmFyIGNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMobGlzdCwgaXRlbSkge1xuICB2YXIgaWR4ID0gMDtcbiAgd2hpbGUgKGlkeCA8IGxpc3QubGVuZ3RoKSB7XG4gICAgaWYgKGxpc3RbaWR4XSA9PT0gaXRlbSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlkeCArPSAxO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3QgY29udGFpbmluZyB0aGUgbmFtZXMgb2YgYWxsIHRoZSBlbnVtZXJhYmxlIG93biBwcm9wZXJ0aWVzIG9mXG4gKiB0aGUgc3VwcGxpZWQgb2JqZWN0LlxuICogTm90ZSB0aGF0IHRoZSBvcmRlciBvZiB0aGUgb3V0cHV0IGFycmF5IGlzIG5vdCBndWFyYW50ZWVkIHRvIGJlIGNvbnNpc3RlbnRcbiAqIGFjcm9zcyBkaWZmZXJlbnQgSlMgcGxhdGZvcm1zLlxuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjEuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHNpZyB7azogdn0gLT4gW2tdXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gZXh0cmFjdCBwcm9wZXJ0aWVzIGZyb21cbiAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiB0aGUgb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4gKiBAc2VlIFIua2V5c0luLCBSLnZhbHVlcywgUi50b1BhaXJzXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgUi5rZXlzKHthOiAxLCBiOiAyLCBjOiAzfSk7IC8vPT4gWydhJywgJ2InLCAnYyddXG4gKi9cbnZhciBrZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSAnZnVuY3Rpb24nICYmICFoYXNBcmdzRW51bUJ1ZyA/IC8qI19fUFVSRV9fKi9fY3VycnkxKGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gIHJldHVybiBPYmplY3Qob2JqKSAhPT0gb2JqID8gW10gOiBPYmplY3Qua2V5cyhvYmopO1xufSkgOiAvKiNfX1BVUkVfXyovX2N1cnJ5MShmdW5jdGlvbiBrZXlzKG9iaikge1xuICBpZiAoT2JqZWN0KG9iaikgIT09IG9iaikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICB2YXIgcHJvcCwgbklkeDtcbiAgdmFyIGtzID0gW107XG4gIHZhciBjaGVja0FyZ3NMZW5ndGggPSBoYXNBcmdzRW51bUJ1ZyAmJiBfaXNBcmd1bWVudHMob2JqKTtcbiAgZm9yIChwcm9wIGluIG9iaikge1xuICAgIGlmIChfaGFzKHByb3AsIG9iaikgJiYgKCFjaGVja0FyZ3NMZW5ndGggfHwgcHJvcCAhPT0gJ2xlbmd0aCcpKSB7XG4gICAgICBrc1trcy5sZW5ndGhdID0gcHJvcDtcbiAgICB9XG4gIH1cbiAgaWYgKGhhc0VudW1CdWcpIHtcbiAgICBuSWR4ID0gbm9uRW51bWVyYWJsZVByb3BzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKG5JZHggPj0gMCkge1xuICAgICAgcHJvcCA9IG5vbkVudW1lcmFibGVQcm9wc1tuSWR4XTtcbiAgICAgIGlmIChfaGFzKHByb3AsIG9iaikgJiYgIWNvbnRhaW5zKGtzLCBwcm9wKSkge1xuICAgICAgICBrc1trcy5sZW5ndGhdID0gcHJvcDtcbiAgICAgIH1cbiAgICAgIG5JZHggLT0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGtzO1xufSk7XG5leHBvcnQgZGVmYXVsdCBrZXlzOyIsImltcG9ydCBfYXJyYXlSZWR1Y2UgZnJvbSBcIi4vaW50ZXJuYWwvX2FycmF5UmVkdWNlLmpzXCI7XG5pbXBvcnQgX2N1cnJ5MiBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkyLmpzXCI7XG5pbXBvcnQgX2Rpc3BhdGNoYWJsZSBmcm9tIFwiLi9pbnRlcm5hbC9fZGlzcGF0Y2hhYmxlLmpzXCI7XG5pbXBvcnQgX21hcCBmcm9tIFwiLi9pbnRlcm5hbC9fbWFwLmpzXCI7XG5pbXBvcnQgX3htYXAgZnJvbSBcIi4vaW50ZXJuYWwvX3htYXAuanNcIjtcbmltcG9ydCBjdXJyeU4gZnJvbSBcIi4vY3VycnlOLmpzXCI7XG5pbXBvcnQga2V5cyBmcm9tIFwiLi9rZXlzLmpzXCI7XG5cbi8qKlxuICogVGFrZXMgYSBmdW5jdGlvbiBhbmRcbiAqIGEgW2Z1bmN0b3JdKGh0dHBzOi8vZ2l0aHViLmNvbS9mYW50YXN5bGFuZC9mYW50YXN5LWxhbmQjZnVuY3RvciksXG4gKiBhcHBsaWVzIHRoZSBmdW5jdGlvbiB0byBlYWNoIG9mIHRoZSBmdW5jdG9yJ3MgdmFsdWVzLCBhbmQgcmV0dXJuc1xuICogYSBmdW5jdG9yIG9mIHRoZSBzYW1lIHNoYXBlLlxuICpcbiAqIFJhbWRhIHByb3ZpZGVzIHN1aXRhYmxlIGBtYXBgIGltcGxlbWVudGF0aW9ucyBmb3IgYEFycmF5YCBhbmQgYE9iamVjdGAsXG4gKiBzbyB0aGlzIGZ1bmN0aW9uIG1heSBiZSBhcHBsaWVkIHRvIGBbMSwgMiwgM11gIG9yIGB7eDogMSwgeTogMiwgejogM31gLlxuICpcbiAqIERpc3BhdGNoZXMgdG8gdGhlIGBtYXBgIG1ldGhvZCBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICpcbiAqIEFjdHMgYXMgYSB0cmFuc2R1Y2VyIGlmIGEgdHJhbnNmb3JtZXIgaXMgZ2l2ZW4gaW4gbGlzdCBwb3NpdGlvbi5cbiAqXG4gKiBBbHNvIHRyZWF0cyBmdW5jdGlvbnMgYXMgZnVuY3RvcnMgYW5kIHdpbGwgY29tcG9zZSB0aGVtIHRvZ2V0aGVyLlxuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjEuMFxuICogQGNhdGVnb3J5IExpc3RcbiAqIEBzaWcgRnVuY3RvciBmID0+IChhIC0+IGIpIC0+IGYgYSAtPiBmIGJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXZlcnkgZWxlbWVudCBvZiB0aGUgaW5wdXQgYGxpc3RgLlxuICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgbGlzdCB0byBiZSBpdGVyYXRlZCBvdmVyLlxuICogQHJldHVybiB7QXJyYXl9IFRoZSBuZXcgbGlzdC5cbiAqIEBzZWUgUi50cmFuc2R1Y2UsIFIuYWRkSW5kZXgsIFIucGx1Y2ssIFIucHJvamVjdFxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgIGNvbnN0IGRvdWJsZSA9IHggPT4geCAqIDI7XG4gKlxuICogICAgICBSLm1hcChkb3VibGUsIFsxLCAyLCAzXSk7IC8vPT4gWzIsIDQsIDZdXG4gKlxuICogICAgICBSLm1hcChkb3VibGUsIHt4OiAxLCB5OiAyLCB6OiAzfSk7IC8vPT4ge3g6IDIsIHk6IDQsIHo6IDZ9XG4gKiBAc3ltYiBSLm1hcChmLCBbYSwgYl0pID0gW2YoYSksIGYoYildXG4gKiBAc3ltYiBSLm1hcChmLCB7IHg6IGEsIHk6IGIgfSkgPSB7IHg6IGYoYSksIHk6IGYoYikgfVxuICogQHN5bWIgUi5tYXAoZiwgZnVuY3Rvcl9vKSA9IGZ1bmN0b3Jfby5tYXAoZilcbiAqL1xudmFyIG1hcCA9IC8qI19fUFVSRV9fKi9fY3VycnkyKCAvKiNfX1BVUkVfXyovX2Rpc3BhdGNoYWJsZShbJ2ZhbnRhc3ktbGFuZC9tYXAnLCAnbWFwJ10sIF94bWFwLCBmdW5jdGlvbiBtYXAoZm4sIGZ1bmN0b3IpIHtcbiAgc3dpdGNoIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZnVuY3RvcikpIHtcbiAgICBjYXNlICdbb2JqZWN0IEZ1bmN0aW9uXSc6XG4gICAgICByZXR1cm4gY3VycnlOKGZ1bmN0b3IubGVuZ3RoLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGZ1bmN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICB9KTtcbiAgICBjYXNlICdbb2JqZWN0IE9iamVjdF0nOlxuICAgICAgcmV0dXJuIF9hcnJheVJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgYWNjW2tleV0gPSBmbihmdW5jdG9yW2tleV0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30sIGtleXMoZnVuY3RvcikpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gX21hcChmbiwgZnVuY3Rvcik7XG4gIH1cbn0pKTtcbmV4cG9ydCBkZWZhdWx0IG1hcDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlGcm9tSXRlcmF0b3IoaXRlcikge1xuICB2YXIgbGlzdCA9IFtdO1xuICB2YXIgbmV4dDtcbiAgd2hpbGUgKCEobmV4dCA9IGl0ZXIubmV4dCgpKS5kb25lKSB7XG4gICAgbGlzdC5wdXNoKG5leHQudmFsdWUpO1xuICB9XG4gIHJldHVybiBsaXN0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pbmNsdWRlc1dpdGgocHJlZCwgeCwgbGlzdCkge1xuICB2YXIgaWR4ID0gMDtcbiAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoO1xuICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgaWYgKHByZWQoeCwgbGlzdFtpZHhdKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlkeCArPSAxO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0iLCIvLyBCYXNlZCBvbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbmZ1bmN0aW9uIF9vYmplY3RJcyhhLCBiKSB7XG4gIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgaWYgKGEgPT09IGIpIHtcbiAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAvLyBTdGVwcyA2LmItNi5lOiArMCAhPSAtMFxuICAgIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjtcbiAgfSBlbHNlIHtcbiAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuICAgIHJldHVybiBhICE9PSBhICYmIGIgIT09IGI7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBPYmplY3QuaXMgPT09ICdmdW5jdGlvbicgPyBPYmplY3QuaXMgOiBfb2JqZWN0SXM7IiwiaW1wb3J0IF9jdXJyeTEgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5MS5qc1wiO1xuXG4vKipcbiAqIEdpdmVzIGEgc2luZ2xlLXdvcmQgc3RyaW5nIGRlc2NyaXB0aW9uIG9mIHRoZSAobmF0aXZlKSB0eXBlIG9mIGEgdmFsdWUsXG4gKiByZXR1cm5pbmcgc3VjaCBhbnN3ZXJzIGFzICdPYmplY3QnLCAnTnVtYmVyJywgJ0FycmF5Jywgb3IgJ051bGwnLiBEb2VzIG5vdFxuICogYXR0ZW1wdCB0byBkaXN0aW5ndWlzaCB1c2VyIE9iamVjdCB0eXBlcyBhbnkgZnVydGhlciwgcmVwb3J0aW5nIHRoZW0gYWxsIGFzXG4gKiAnT2JqZWN0Jy5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC44LjBcbiAqIEBjYXRlZ29yeSBUeXBlXG4gKiBAc2lnICogLT4gU3RyaW5nXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgIFIudHlwZSh7fSk7IC8vPT4gXCJPYmplY3RcIlxuICogICAgICBSLnR5cGUoMSk7IC8vPT4gXCJOdW1iZXJcIlxuICogICAgICBSLnR5cGUoZmFsc2UpOyAvLz0+IFwiQm9vbGVhblwiXG4gKiAgICAgIFIudHlwZSgncycpOyAvLz0+IFwiU3RyaW5nXCJcbiAqICAgICAgUi50eXBlKG51bGwpOyAvLz0+IFwiTnVsbFwiXG4gKiAgICAgIFIudHlwZShbXSk7IC8vPT4gXCJBcnJheVwiXG4gKiAgICAgIFIudHlwZSgvW0Etel0vKTsgLy89PiBcIlJlZ0V4cFwiXG4gKiAgICAgIFIudHlwZSgoKSA9PiB7fSk7IC8vPT4gXCJGdW5jdGlvblwiXG4gKiAgICAgIFIudHlwZShhc3luYyAoKSA9PiB7fSk7IC8vPT4gXCJBc3luY0Z1bmN0aW9uXCJcbiAqICAgICAgUi50eXBlKHVuZGVmaW5lZCk7IC8vPT4gXCJVbmRlZmluZWRcIlxuICogICAgICBSLnR5cGUoQmlnSW50KDEyMykpOyAvLz0+IFwiQmlnSW50XCJcbiAqL1xudmFyIHR5cGUgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MShmdW5jdGlvbiB0eXBlKHZhbCkge1xuICByZXR1cm4gdmFsID09PSBudWxsID8gJ051bGwnIDogdmFsID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpLnNsaWNlKDgsIC0xKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgdHlwZTsiLCJpbXBvcnQgX2FycmF5RnJvbUl0ZXJhdG9yIGZyb20gXCIuL19hcnJheUZyb21JdGVyYXRvci5qc1wiO1xuaW1wb3J0IF9pbmNsdWRlc1dpdGggZnJvbSBcIi4vX2luY2x1ZGVzV2l0aC5qc1wiO1xuaW1wb3J0IF9mdW5jdGlvbk5hbWUgZnJvbSBcIi4vX2Z1bmN0aW9uTmFtZS5qc1wiO1xuaW1wb3J0IF9oYXMgZnJvbSBcIi4vX2hhcy5qc1wiO1xuaW1wb3J0IF9vYmplY3RJcyBmcm9tIFwiLi9fb2JqZWN0SXMuanNcIjtcbmltcG9ydCBrZXlzIGZyb20gXCIuLi9rZXlzLmpzXCI7XG5pbXBvcnQgdHlwZSBmcm9tIFwiLi4vdHlwZS5qc1wiO1xuXG4vKipcbiAqIHByaXZhdGUgX3VuaXFDb250ZW50RXF1YWxzIGZ1bmN0aW9uLlxuICogVGhhdCBmdW5jdGlvbiBpcyBjaGVja2luZyBlcXVhbGl0eSBvZiAyIGl0ZXJhdG9yIGNvbnRlbnRzIHdpdGggMiBhc3N1bXB0aW9uc1xuICogLSBpdGVyYXRvcnMgbGVuZ3RocyBhcmUgdGhlIHNhbWVcbiAqIC0gaXRlcmF0b3JzIHZhbHVlcyBhcmUgdW5pcXVlXG4gKlxuICogZmFsc2UtcG9zaXRpdmUgcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQgZm9yIGNvbXBhcmlzb24gb2YsIGUuZy5cbiAqIC0gWzEsMiwzXSBhbmQgWzEsMiwzLDRdXG4gKiAtIFsxLDEsMV0gYW5kIFsxLDIsM11cbiAqICovXG5cbmZ1bmN0aW9uIF91bmlxQ29udGVudEVxdWFscyhhSXRlcmF0b3IsIGJJdGVyYXRvciwgc3RhY2tBLCBzdGFja0IpIHtcbiAgdmFyIGEgPSBfYXJyYXlGcm9tSXRlcmF0b3IoYUl0ZXJhdG9yKTtcbiAgdmFyIGIgPSBfYXJyYXlGcm9tSXRlcmF0b3IoYkl0ZXJhdG9yKTtcbiAgZnVuY3Rpb24gZXEoX2EsIF9iKSB7XG4gICAgcmV0dXJuIF9lcXVhbHMoX2EsIF9iLCBzdGFja0Euc2xpY2UoKSwgc3RhY2tCLnNsaWNlKCkpO1xuICB9XG5cbiAgLy8gaWYgKmEqIGFycmF5IGNvbnRhaW5zIGFueSBlbGVtZW50IHRoYXQgaXMgbm90IGluY2x1ZGVkIGluICpiKlxuICByZXR1cm4gIV9pbmNsdWRlc1dpdGgoZnVuY3Rpb24gKGIsIGFJdGVtKSB7XG4gICAgcmV0dXJuICFfaW5jbHVkZXNXaXRoKGVxLCBhSXRlbSwgYik7XG4gIH0sIGIsIGEpO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2VxdWFscyhhLCBiLCBzdGFja0EsIHN0YWNrQikge1xuICBpZiAoX29iamVjdElzKGEsIGIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIHR5cGVBID0gdHlwZShhKTtcbiAgaWYgKHR5cGVBICE9PSB0eXBlKGIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgYVsnZmFudGFzeS1sYW5kL2VxdWFscyddID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBiWydmYW50YXN5LWxhbmQvZXF1YWxzJ10gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFbJ2ZhbnRhc3ktbGFuZC9lcXVhbHMnXSA9PT0gJ2Z1bmN0aW9uJyAmJiBhWydmYW50YXN5LWxhbmQvZXF1YWxzJ10oYikgJiYgdHlwZW9mIGJbJ2ZhbnRhc3ktbGFuZC9lcXVhbHMnXSA9PT0gJ2Z1bmN0aW9uJyAmJiBiWydmYW50YXN5LWxhbmQvZXF1YWxzJ10oYSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgYi5lcXVhbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZW9mIGEuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmIGEuZXF1YWxzKGIpICYmIHR5cGVvZiBiLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJyAmJiBiLmVxdWFscyhhKTtcbiAgfVxuICBzd2l0Y2ggKHR5cGVBKSB7XG4gICAgY2FzZSAnQXJndW1lbnRzJzpcbiAgICBjYXNlICdBcnJheSc6XG4gICAgY2FzZSAnT2JqZWN0JzpcbiAgICAgIGlmICh0eXBlb2YgYS5jb25zdHJ1Y3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiBfZnVuY3Rpb25OYW1lKGEuY29uc3RydWN0b3IpID09PSAnUHJvbWlzZScpIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdCb29sZWFuJzpcbiAgICBjYXNlICdOdW1iZXInOlxuICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgICBpZiAoISh0eXBlb2YgYSA9PT0gdHlwZW9mIGIgJiYgX29iamVjdElzKGEudmFsdWVPZigpLCBiLnZhbHVlT2YoKSkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgaWYgKCFfb2JqZWN0SXMoYS52YWx1ZU9mKCksIGIudmFsdWVPZigpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdFcnJvcic6XG4gICAgICByZXR1cm4gYS5uYW1lID09PSBiLm5hbWUgJiYgYS5tZXNzYWdlID09PSBiLm1lc3NhZ2U7XG4gICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgIGlmICghKGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmdsb2JhbCA9PT0gYi5nbG9iYWwgJiYgYS5pZ25vcmVDYXNlID09PSBiLmlnbm9yZUNhc2UgJiYgYS5tdWx0aWxpbmUgPT09IGIubXVsdGlsaW5lICYmIGEuc3RpY2t5ID09PSBiLnN0aWNreSAmJiBhLnVuaWNvZGUgPT09IGIudW5pY29kZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cbiAgdmFyIGlkeCA9IHN0YWNrQS5sZW5ndGggLSAxO1xuICB3aGlsZSAoaWR4ID49IDApIHtcbiAgICBpZiAoc3RhY2tBW2lkeF0gPT09IGEpIHtcbiAgICAgIHJldHVybiBzdGFja0JbaWR4XSA9PT0gYjtcbiAgICB9XG4gICAgaWR4IC09IDE7XG4gIH1cbiAgc3dpdGNoICh0eXBlQSkge1xuICAgIGNhc2UgJ01hcCc6XG4gICAgICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF91bmlxQ29udGVudEVxdWFscyhhLmVudHJpZXMoKSwgYi5lbnRyaWVzKCksIHN0YWNrQS5jb25jYXQoW2FdKSwgc3RhY2tCLmNvbmNhdChbYl0pKTtcbiAgICBjYXNlICdTZXQnOlxuICAgICAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfdW5pcUNvbnRlbnRFcXVhbHMoYS52YWx1ZXMoKSwgYi52YWx1ZXMoKSwgc3RhY2tBLmNvbmNhdChbYV0pLCBzdGFja0IuY29uY2F0KFtiXSkpO1xuICAgIGNhc2UgJ0FyZ3VtZW50cyc6XG4gICAgY2FzZSAnQXJyYXknOlxuICAgIGNhc2UgJ09iamVjdCc6XG4gICAgY2FzZSAnQm9vbGVhbic6XG4gICAgY2FzZSAnTnVtYmVyJzpcbiAgICBjYXNlICdTdHJpbmcnOlxuICAgIGNhc2UgJ0RhdGUnOlxuICAgIGNhc2UgJ0Vycm9yJzpcbiAgICBjYXNlICdSZWdFeHAnOlxuICAgIGNhc2UgJ0ludDhBcnJheSc6XG4gICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgY2FzZSAnVWludDhDbGFtcGVkQXJyYXknOlxuICAgIGNhc2UgJ0ludDE2QXJyYXknOlxuICAgIGNhc2UgJ1VpbnQxNkFycmF5JzpcbiAgICBjYXNlICdJbnQzMkFycmF5JzpcbiAgICBjYXNlICdVaW50MzJBcnJheSc6XG4gICAgY2FzZSAnRmxvYXQzMkFycmF5JzpcbiAgICBjYXNlICdGbG9hdDY0QXJyYXknOlxuICAgIGNhc2UgJ0FycmF5QnVmZmVyJzpcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBWYWx1ZXMgb2Ygb3RoZXIgdHlwZXMgYXJlIG9ubHkgZXF1YWwgaWYgaWRlbnRpY2FsLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBrZXlzQSA9IGtleXMoYSk7XG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXMoYikubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBleHRlbmRlZFN0YWNrQSA9IHN0YWNrQS5jb25jYXQoW2FdKTtcbiAgdmFyIGV4dGVuZGVkU3RhY2tCID0gc3RhY2tCLmNvbmNhdChbYl0pO1xuICBpZHggPSBrZXlzQS5sZW5ndGggLSAxO1xuICB3aGlsZSAoaWR4ID49IDApIHtcbiAgICB2YXIga2V5ID0ga2V5c0FbaWR4XTtcbiAgICBpZiAoIShfaGFzKGtleSwgYikgJiYgX2VxdWFscyhiW2tleV0sIGFba2V5XSwgZXh0ZW5kZWRTdGFja0EsIGV4dGVuZGVkU3RhY2tCKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWR4IC09IDE7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2Z1bmN0aW9uTmFtZShmKSB7XG4gIC8vIFN0cmluZyh4ID0+IHgpIGV2YWx1YXRlcyB0byBcInggPT4geFwiLCBzbyB0aGUgcGF0dGVybiBtYXkgbm90IG1hdGNoLlxuICB2YXIgbWF0Y2ggPSBTdHJpbmcoZikubWF0Y2goL15mdW5jdGlvbiAoXFx3KikvKTtcbiAgcmV0dXJuIG1hdGNoID09IG51bGwgPyAnJyA6IG1hdGNoWzFdO1xufSIsImltcG9ydCBfY3VycnkyIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTIuanNcIjtcbmltcG9ydCBfZXF1YWxzIGZyb20gXCIuL2ludGVybmFsL19lcXVhbHMuanNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBpdHMgYXJndW1lbnRzIGFyZSBlcXVpdmFsZW50LCBgZmFsc2VgIG90aGVyd2lzZS4gSGFuZGxlc1xuICogY3ljbGljYWwgZGF0YSBzdHJ1Y3R1cmVzLlxuICpcbiAqIERpc3BhdGNoZXMgc3ltbWV0cmljYWxseSB0byB0aGUgYGVxdWFsc2AgbWV0aG9kcyBvZiBib3RoIGFyZ3VtZW50cywgaWZcbiAqIHByZXNlbnQuXG4gKlxuICogQGZ1bmNcbiAqIEBtZW1iZXJPZiBSXG4gKiBAc2luY2UgdjAuMTUuMFxuICogQGNhdGVnb3J5IFJlbGF0aW9uXG4gKiBAc2lnIGEgLT4gYiAtPiBCb29sZWFuXG4gKiBAcGFyYW0geyp9IGFcbiAqIEBwYXJhbSB7Kn0gYlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBSLmVxdWFscygxLCAxKTsgLy89PiB0cnVlXG4gKiAgICAgIFIuZXF1YWxzKDEsICcxJyk7IC8vPT4gZmFsc2VcbiAqICAgICAgUi5lcXVhbHMoWzEsIDIsIDNdLCBbMSwgMiwgM10pOyAvLz0+IHRydWVcbiAqXG4gKiAgICAgIGNvbnN0IGEgPSB7fTsgYS52ID0gYTtcbiAqICAgICAgY29uc3QgYiA9IHt9OyBiLnYgPSBiO1xuICogICAgICBSLmVxdWFscyhhLCBiKTsgLy89PiB0cnVlXG4gKi9cbnZhciBlcXVhbHMgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MihmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gX2VxdWFscyhhLCBiLCBbXSwgW10pO1xufSk7XG5leHBvcnQgZGVmYXVsdCBlcXVhbHM7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3F1b3RlKHMpIHtcbiAgdmFyIGVzY2FwZWQgPSBzLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJykucmVwbGFjZSgvW1xcYl0vZywgJ1xcXFxiJykgLy8gXFxiIG1hdGNoZXMgd29yZCBib3VuZGFyeTsgW1xcYl0gbWF0Y2hlcyBiYWNrc3BhY2VcbiAgLnJlcGxhY2UoL1xcZi9nLCAnXFxcXGYnKS5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJykucmVwbGFjZSgvXFxyL2csICdcXFxccicpLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKS5yZXBsYWNlKC9cXHYvZywgJ1xcXFx2JykucmVwbGFjZSgvXFwwL2csICdcXFxcMCcpO1xuICByZXR1cm4gJ1wiJyArIGVzY2FwZWQucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpICsgJ1wiJztcbn0iLCIvKipcbiAqIFBvbHlmaWxsIGZyb20gPGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvdG9JU09TdHJpbmc+LlxuICovXG52YXIgcGFkID0gZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIChuIDwgMTAgPyAnMCcgOiAnJykgKyBuO1xufTtcbnZhciBfdG9JU09TdHJpbmcgPSB0eXBlb2YgRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiBfdG9JU09TdHJpbmcoZCkge1xuICByZXR1cm4gZC50b0lTT1N0cmluZygpO1xufSA6IGZ1bmN0aW9uIF90b0lTT1N0cmluZyhkKSB7XG4gIHJldHVybiBkLmdldFVUQ0Z1bGxZZWFyKCkgKyAnLScgKyBwYWQoZC5nZXRVVENNb250aCgpICsgMSkgKyAnLScgKyBwYWQoZC5nZXRVVENEYXRlKCkpICsgJ1QnICsgcGFkKGQuZ2V0VVRDSG91cnMoKSkgKyAnOicgKyBwYWQoZC5nZXRVVENNaW51dGVzKCkpICsgJzonICsgcGFkKGQuZ2V0VVRDU2Vjb25kcygpKSArICcuJyArIChkLmdldFVUQ01pbGxpc2Vjb25kcygpIC8gMTAwMCkudG9GaXhlZCgzKS5zbGljZSgyLCA1KSArICdaJztcbn07XG5leHBvcnQgZGVmYXVsdCBfdG9JU09TdHJpbmc7IiwiaW1wb3J0IF94ZkJhc2UgZnJvbSBcIi4vX3hmQmFzZS5qc1wiO1xudmFyIFhGaWx0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBYRmlsdGVyKGYsIHhmKSB7XG4gICAgdGhpcy54ZiA9IHhmO1xuICAgIHRoaXMuZiA9IGY7XG4gIH1cbiAgWEZpbHRlci5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9pbml0J10gPSBfeGZCYXNlLmluaXQ7XG4gIFhGaWx0ZXIucHJvdG90eXBlWydAQHRyYW5zZHVjZXIvcmVzdWx0J10gPSBfeGZCYXNlLnJlc3VsdDtcbiAgWEZpbHRlci5wcm90b3R5cGVbJ0BAdHJhbnNkdWNlci9zdGVwJ10gPSBmdW5jdGlvbiAocmVzdWx0LCBpbnB1dCkge1xuICAgIHJldHVybiB0aGlzLmYoaW5wdXQpID8gdGhpcy54ZlsnQEB0cmFuc2R1Y2VyL3N0ZXAnXShyZXN1bHQsIGlucHV0KSA6IHJlc3VsdDtcbiAgfTtcbiAgcmV0dXJuIFhGaWx0ZXI7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfeGZpbHRlcihmKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoeGYpIHtcbiAgICByZXR1cm4gbmV3IFhGaWx0ZXIoZiwgeGYpO1xuICB9O1xufSIsImltcG9ydCBfYXJyYXlSZWR1Y2UgZnJvbSBcIi4vaW50ZXJuYWwvX2FycmF5UmVkdWNlLmpzXCI7XG5pbXBvcnQgX2N1cnJ5MiBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkyLmpzXCI7XG5pbXBvcnQgX2Rpc3BhdGNoYWJsZSBmcm9tIFwiLi9pbnRlcm5hbC9fZGlzcGF0Y2hhYmxlLmpzXCI7XG5pbXBvcnQgX2ZpbHRlciBmcm9tIFwiLi9pbnRlcm5hbC9fZmlsdGVyLmpzXCI7XG5pbXBvcnQgX2lzT2JqZWN0IGZyb20gXCIuL2ludGVybmFsL19pc09iamVjdC5qc1wiO1xuaW1wb3J0IF94ZmlsdGVyIGZyb20gXCIuL2ludGVybmFsL194ZmlsdGVyLmpzXCI7XG5pbXBvcnQga2V5cyBmcm9tIFwiLi9rZXlzLmpzXCI7XG5cbi8qKlxuICogVGFrZXMgYSBwcmVkaWNhdGUgYW5kIGEgYEZpbHRlcmFibGVgLCBhbmQgcmV0dXJucyBhIG5ldyBmaWx0ZXJhYmxlIG9mIHRoZVxuICogc2FtZSB0eXBlIGNvbnRhaW5pbmcgdGhlIG1lbWJlcnMgb2YgdGhlIGdpdmVuIGZpbHRlcmFibGUgd2hpY2ggc2F0aXNmeSB0aGVcbiAqIGdpdmVuIHByZWRpY2F0ZS4gRmlsdGVyYWJsZSBvYmplY3RzIGluY2x1ZGUgcGxhaW4gb2JqZWN0cyBvciBhbnkgb2JqZWN0XG4gKiB0aGF0IGhhcyBhIGZpbHRlciBtZXRob2Qgc3VjaCBhcyBgQXJyYXlgLlxuICpcbiAqIERpc3BhdGNoZXMgdG8gdGhlIGBmaWx0ZXJgIG1ldGhvZCBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LCBpZiBwcmVzZW50LlxuICpcbiAqIEFjdHMgYXMgYSB0cmFuc2R1Y2VyIGlmIGEgdHJhbnNmb3JtZXIgaXMgZ2l2ZW4gaW4gbGlzdCBwb3NpdGlvbi5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xLjBcbiAqIEBjYXRlZ29yeSBMaXN0XG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAc2lnIEZpbHRlcmFibGUgZiA9PiAoYSAtPiBCb29sZWFuKSAtPiBmIGEgLT4gZiBhXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkXG4gKiBAcGFyYW0ge0FycmF5fSBmaWx0ZXJhYmxlXG4gKiBAcmV0dXJuIHtBcnJheX0gRmlsdGVyYWJsZVxuICogQHNlZSBSLnJlamVjdCwgUi50cmFuc2R1Y2UsIFIuYWRkSW5kZXhcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBjb25zdCBpc0V2ZW4gPSBuID0+IG4gJSAyID09PSAwO1xuICpcbiAqICAgICAgUi5maWx0ZXIoaXNFdmVuLCBbMSwgMiwgMywgNF0pOyAvLz0+IFsyLCA0XVxuICpcbiAqICAgICAgUi5maWx0ZXIoaXNFdmVuLCB7YTogMSwgYjogMiwgYzogMywgZDogNH0pOyAvLz0+IHtiOiAyLCBkOiA0fVxuICovXG52YXIgZmlsdGVyID0gLyojX19QVVJFX18qL19jdXJyeTIoIC8qI19fUFVSRV9fKi9fZGlzcGF0Y2hhYmxlKFsnZmFudGFzeS1sYW5kL2ZpbHRlcicsICdmaWx0ZXInXSwgX3hmaWx0ZXIsIGZ1bmN0aW9uIChwcmVkLCBmaWx0ZXJhYmxlKSB7XG4gIHJldHVybiBfaXNPYmplY3QoZmlsdGVyYWJsZSkgPyBfYXJyYXlSZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgaWYgKHByZWQoZmlsdGVyYWJsZVtrZXldKSkge1xuICAgICAgYWNjW2tleV0gPSBmaWx0ZXJhYmxlW2tleV07XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9LCBrZXlzKGZpbHRlcmFibGUpKSA6XG4gIC8vIGVsc2VcbiAgX2ZpbHRlcihwcmVkLCBmaWx0ZXJhYmxlKTtcbn0pKTtcbmV4cG9ydCBkZWZhdWx0IGZpbHRlcjsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaXNPYmplY3QoeCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBPYmplY3RdJztcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZmlsdGVyKGZuLCBsaXN0KSB7XG4gIHZhciBpZHggPSAwO1xuICB2YXIgbGVuID0gbGlzdC5sZW5ndGg7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgIGlmIChmbihsaXN0W2lkeF0pKSB7XG4gICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSBsaXN0W2lkeF07XG4gICAgfVxuICAgIGlkeCArPSAxO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59IiwiaW1wb3J0IF9jb21wbGVtZW50IGZyb20gXCIuL2ludGVybmFsL19jb21wbGVtZW50LmpzXCI7XG5pbXBvcnQgX2N1cnJ5MiBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkyLmpzXCI7XG5pbXBvcnQgZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuXG4vKipcbiAqIFRoZSBjb21wbGVtZW50IG9mIFtgZmlsdGVyYF0oI2ZpbHRlcikuXG4gKlxuICogQWN0cyBhcyBhIHRyYW5zZHVjZXIgaWYgYSB0cmFuc2Zvcm1lciBpcyBnaXZlbiBpbiBsaXN0IHBvc2l0aW9uLiBGaWx0ZXJhYmxlXG4gKiBvYmplY3RzIGluY2x1ZGUgcGxhaW4gb2JqZWN0cyBvciBhbnkgb2JqZWN0IHRoYXQgaGFzIGEgZmlsdGVyIG1ldGhvZCBzdWNoXG4gKiBhcyBgQXJyYXlgLlxuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjEuMFxuICogQGNhdGVnb3J5IExpc3RcbiAqIEBzaWcgRmlsdGVyYWJsZSBmID0+IChhIC0+IEJvb2xlYW4pIC0+IGYgYSAtPiBmIGFcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGZpbHRlcmFibGVcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQHNlZSBSLmZpbHRlciwgUi50cmFuc2R1Y2UsIFIuYWRkSW5kZXhcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBjb25zdCBpc09kZCA9IChuKSA9PiBuICUgMiAhPT0gMDtcbiAqXG4gKiAgICAgIFIucmVqZWN0KGlzT2RkLCBbMSwgMiwgMywgNF0pOyAvLz0+IFsyLCA0XVxuICpcbiAqICAgICAgUi5yZWplY3QoaXNPZGQsIHthOiAxLCBiOiAyLCBjOiAzLCBkOiA0fSk7IC8vPT4ge2I6IDIsIGQ6IDR9XG4gKi9cbnZhciByZWplY3QgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MihmdW5jdGlvbiByZWplY3QocHJlZCwgZmlsdGVyYWJsZSkge1xuICByZXR1cm4gZmlsdGVyKF9jb21wbGVtZW50KHByZWQpLCBmaWx0ZXJhYmxlKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgcmVqZWN0OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9jb21wbGVtZW50KGYpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gIWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0iLCJpbXBvcnQgX2luY2x1ZGVzIGZyb20gXCIuL19pbmNsdWRlcy5qc1wiO1xuaW1wb3J0IF9tYXAgZnJvbSBcIi4vX21hcC5qc1wiO1xuaW1wb3J0IF9xdW90ZSBmcm9tIFwiLi9fcXVvdGUuanNcIjtcbmltcG9ydCBfdG9JU09TdHJpbmcgZnJvbSBcIi4vX3RvSVNPU3RyaW5nLmpzXCI7XG5pbXBvcnQga2V5cyBmcm9tIFwiLi4va2V5cy5qc1wiO1xuaW1wb3J0IHJlamVjdCBmcm9tIFwiLi4vcmVqZWN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfdG9TdHJpbmcoeCwgc2Vlbikge1xuICB2YXIgcmVjdXIgPSBmdW5jdGlvbiByZWN1cih5KSB7XG4gICAgdmFyIHhzID0gc2Vlbi5jb25jYXQoW3hdKTtcbiAgICByZXR1cm4gX2luY2x1ZGVzKHksIHhzKSA/ICc8Q2lyY3VsYXI+JyA6IF90b1N0cmluZyh5LCB4cyk7XG4gIH07XG5cbiAgLy8gIG1hcFBhaXJzIDo6IChPYmplY3QsIFtTdHJpbmddKSAtPiBbU3RyaW5nXVxuICB2YXIgbWFwUGFpcnMgPSBmdW5jdGlvbiAob2JqLCBrZXlzKSB7XG4gICAgcmV0dXJuIF9tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgIHJldHVybiBfcXVvdGUoaykgKyAnOiAnICsgcmVjdXIob2JqW2tdKTtcbiAgICB9LCBrZXlzLnNsaWNlKCkuc29ydCgpKTtcbiAgfTtcbiAgc3dpdGNoIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkpIHtcbiAgICBjYXNlICdbb2JqZWN0IEFyZ3VtZW50c10nOlxuICAgICAgcmV0dXJuICcoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oJyArIF9tYXAocmVjdXIsIHgpLmpvaW4oJywgJykgKyAnKSknO1xuICAgIGNhc2UgJ1tvYmplY3QgQXJyYXldJzpcbiAgICAgIHJldHVybiAnWycgKyBfbWFwKHJlY3VyLCB4KS5jb25jYXQobWFwUGFpcnMoeCwgcmVqZWN0KGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiAvXlxcZCskLy50ZXN0KGspO1xuICAgICAgfSwga2V5cyh4KSkpKS5qb2luKCcsICcpICsgJ10nO1xuICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyA/ICduZXcgQm9vbGVhbignICsgcmVjdXIoeC52YWx1ZU9mKCkpICsgJyknIDogeC50b1N0cmluZygpO1xuICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgcmV0dXJuICduZXcgRGF0ZSgnICsgKGlzTmFOKHgudmFsdWVPZigpKSA/IHJlY3VyKE5hTikgOiBfcXVvdGUoX3RvSVNPU3RyaW5nKHgpKSkgKyAnKSc7XG4gICAgY2FzZSAnW29iamVjdCBNYXBdJzpcbiAgICAgIHJldHVybiAnbmV3IE1hcCgnICsgcmVjdXIoQXJyYXkuZnJvbSh4KSkgKyAnKSc7XG4gICAgY2FzZSAnW29iamVjdCBOdWxsXSc6XG4gICAgICByZXR1cm4gJ251bGwnO1xuICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnID8gJ25ldyBOdW1iZXIoJyArIHJlY3VyKHgudmFsdWVPZigpKSArICcpJyA6IDEgLyB4ID09PSAtSW5maW5pdHkgPyAnLTAnIDogeC50b1N0cmluZygxMCk7XG4gICAgY2FzZSAnW29iamVjdCBTZXRdJzpcbiAgICAgIHJldHVybiAnbmV3IFNldCgnICsgcmVjdXIoQXJyYXkuZnJvbSh4KS5zb3J0KCkpICsgJyknO1xuICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnID8gJ25ldyBTdHJpbmcoJyArIHJlY3VyKHgudmFsdWVPZigpKSArICcpJyA6IF9xdW90ZSh4KTtcbiAgICBjYXNlICdbb2JqZWN0IFVuZGVmaW5lZF0nOlxuICAgICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAodHlwZW9mIHgudG9TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIHJlcHIgPSB4LnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChyZXByICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgIHJldHVybiByZXByO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJ3snICsgbWFwUGFpcnMoeCwga2V5cyh4KSkuam9pbignLCAnKSArICd9JztcbiAgfVxufSIsImltcG9ydCBlcXVhbHMgZnJvbSBcIi4uL2VxdWFscy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2luZGV4T2YobGlzdCwgYSwgaWR4KSB7XG4gIHZhciBpbmYsIGl0ZW07XG4gIC8vIEFycmF5LnByb3RvdHlwZS5pbmRleE9mIGRvZXNuJ3QgZXhpc3QgYmVsb3cgSUU5XG4gIGlmICh0eXBlb2YgbGlzdC5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgYSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgaWYgKGEgPT09IDApIHtcbiAgICAgICAgICAvLyBtYW51YWxseSBjcmF3bCB0aGUgbGlzdCB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuICswIGFuZCAtMFxuICAgICAgICAgIGluZiA9IDEgLyBhO1xuICAgICAgICAgIHdoaWxlIChpZHggPCBsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlbSA9IGxpc3RbaWR4XTtcbiAgICAgICAgICAgIGlmIChpdGVtID09PSAwICYmIDEgLyBpdGVtID09PSBpbmYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkeCArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAoYSAhPT0gYSkge1xuICAgICAgICAgIC8vIE5hTlxuICAgICAgICAgIHdoaWxlIChpZHggPCBsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlbSA9IGxpc3RbaWR4XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicgJiYgaXRlbSAhPT0gaXRlbSkge1xuICAgICAgICAgICAgICByZXR1cm4gaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub24temVybyBudW1iZXJzIGNhbiB1dGlsaXNlIFNldFxuICAgICAgICByZXR1cm4gbGlzdC5pbmRleE9mKGEsIGlkeCk7XG5cbiAgICAgIC8vIGFsbCB0aGVzZSB0eXBlcyBjYW4gdXRpbGlzZSBTZXRcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiBsaXN0LmluZGV4T2YoYSwgaWR4KTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChhID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gbnVsbCBjYW4gdXRpbGlzZSBTZXRcbiAgICAgICAgICByZXR1cm4gbGlzdC5pbmRleE9mKGEsIGlkeCk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gYW55dGhpbmcgZWxzZSBub3QgY292ZXJlZCBhYm92ZSwgZGVmZXIgdG8gUi5lcXVhbHNcbiAgd2hpbGUgKGlkeCA8IGxpc3QubGVuZ3RoKSB7XG4gICAgaWYgKGVxdWFscyhsaXN0W2lkeF0sIGEpKSB7XG4gICAgICByZXR1cm4gaWR4O1xuICAgIH1cbiAgICBpZHggKz0gMTtcbiAgfVxuICByZXR1cm4gLTE7XG59IiwiaW1wb3J0IF9pbmRleE9mIGZyb20gXCIuL19pbmRleE9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaW5jbHVkZXMoYSwgbGlzdCkge1xuICByZXR1cm4gX2luZGV4T2YobGlzdCwgYSwgMCkgPj0gMDtcbn0iLCJpbXBvcnQgX2N1cnJ5MSBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkxLmpzXCI7XG5pbXBvcnQgX3RvU3RyaW5nIGZyb20gXCIuL2ludGVybmFsL190b1N0cmluZy5qc1wiO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gdmFsdWUuIGBldmFsYCdpbmcgdGhlIG91dHB1dFxuICogc2hvdWxkIHJlc3VsdCBpbiBhIHZhbHVlIGVxdWl2YWxlbnQgdG8gdGhlIGlucHV0IHZhbHVlLiBNYW55IG9mIHRoZSBidWlsdC1pblxuICogYHRvU3RyaW5nYCBtZXRob2RzIGRvIG5vdCBzYXRpc2Z5IHRoaXMgcmVxdWlyZW1lbnQuXG4gKlxuICogSWYgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIGBbb2JqZWN0IE9iamVjdF1gIHdpdGggYSBgdG9TdHJpbmdgIG1ldGhvZCBvdGhlclxuICogdGhhbiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AsIHRoaXMgbWV0aG9kIGlzIGludm9rZWQgd2l0aCBubyBhcmd1bWVudHNcbiAqIHRvIHByb2R1Y2UgdGhlIHJldHVybiB2YWx1ZS4gVGhpcyBtZWFucyB1c2VyLWRlZmluZWQgY29uc3RydWN0b3IgZnVuY3Rpb25zXG4gKiBjYW4gcHJvdmlkZSBhIHN1aXRhYmxlIGB0b1N0cmluZ2AgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgICAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICogICAgICAgdGhpcy54ID0geDtcbiAqICAgICAgIHRoaXMueSA9IHk7XG4gKiAgICAgfVxuICpcbiAqICAgICBQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgIHJldHVybiAnbmV3IFBvaW50KCcgKyB0aGlzLnggKyAnLCAnICsgdGhpcy55ICsgJyknO1xuICogICAgIH07XG4gKlxuICogICAgIFIudG9TdHJpbmcobmV3IFBvaW50KDEsIDIpKTsgLy89PiAnbmV3IFBvaW50KDEsIDIpJ1xuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjE0LjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBzaWcgKiAtPiBTdHJpbmdcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgUi50b1N0cmluZyg0Mik7IC8vPT4gJzQyJ1xuICogICAgICBSLnRvU3RyaW5nKCdhYmMnKTsgLy89PiAnXCJhYmNcIidcbiAqICAgICAgUi50b1N0cmluZyhbMSwgMiwgM10pOyAvLz0+ICdbMSwgMiwgM10nXG4gKiAgICAgIFIudG9TdHJpbmcoe2ZvbzogMSwgYmFyOiAyLCBiYXo6IDN9KTsgLy89PiAne1wiYmFyXCI6IDIsIFwiYmF6XCI6IDMsIFwiZm9vXCI6IDF9J1xuICogICAgICBSLnRvU3RyaW5nKG5ldyBEYXRlKCcyMDAxLTAyLTAzVDA0OjA1OjA2WicpKTsgLy89PiAnbmV3IERhdGUoXCIyMDAxLTAyLTAzVDA0OjA1OjA2LjAwMFpcIiknXG4gKi9cbnZhciB0b1N0cmluZyA9IC8qI19fUFVSRV9fKi9fY3VycnkxKGZ1bmN0aW9uIHRvU3RyaW5nKHZhbCkge1xuICByZXR1cm4gX3RvU3RyaW5nKHZhbCwgW10pO1xufSk7XG5leHBvcnQgZGVmYXVsdCB0b1N0cmluZzsiLCJpbXBvcnQgX2N1cnJ5MiBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkyLmpzXCI7XG5pbXBvcnQgdG9TdHJpbmcgZnJvbSBcIi4vdG9TdHJpbmcuanNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXJnZXIgb2YgaXRzIHR3byBhcmd1bWVudHMuXG4gKlxuICogQGZ1bmNcbiAqIEBtZW1iZXJPZiBSXG4gKiBAc2luY2UgdjAuMS4wXG4gKiBAY2F0ZWdvcnkgUmVsYXRpb25cbiAqIEBzaWcgT3JkIGEgPT4gYSAtPiBhIC0+IGFcbiAqIEBwYXJhbSB7Kn0gYVxuICogQHBhcmFtIHsqfSBiXG4gKiBAcmV0dXJuIHsqfVxuICogQHNlZSBSLm1heEJ5LCBSLm1pblxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgIFIubWF4KDc4OSwgMTIzKTsgLy89PiA3ODlcbiAqICAgICAgUi5tYXgoJ2EnLCAnYicpOyAvLz0+ICdiJ1xuICovXG52YXIgbWF4ID0gLyojX19QVVJFX18qL19jdXJyeTIoZnVuY3Rpb24gbWF4KGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gYjtcbiAgfVxuICBmdW5jdGlvbiBzYWZlTWF4KHgsIHkpIHtcbiAgICBpZiAoeCA+IHkgIT09IHkgPiB4KSB7XG4gICAgICByZXR1cm4geSA+IHggPyB5IDogeDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICB2YXIgbWF4QnlWYWx1ZSA9IHNhZmVNYXgoYSwgYik7XG4gIGlmIChtYXhCeVZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbWF4QnlWYWx1ZTtcbiAgfVxuICB2YXIgbWF4QnlUeXBlID0gc2FmZU1heCh0eXBlb2YgYSwgdHlwZW9mIGIpO1xuICBpZiAobWF4QnlUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbWF4QnlUeXBlID09PSB0eXBlb2YgYSA/IGEgOiBiO1xuICB9XG4gIHZhciBzdHJpbmdBID0gdG9TdHJpbmcoYSk7XG4gIHZhciBtYXhCeVN0cmluZ1ZhbHVlID0gc2FmZU1heChzdHJpbmdBLCB0b1N0cmluZyhiKSk7XG4gIGlmIChtYXhCeVN0cmluZ1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbWF4QnlTdHJpbmdWYWx1ZSA9PT0gc3RyaW5nQSA/IGEgOiBiO1xuICB9XG4gIHJldHVybiBiO1xufSk7XG5leHBvcnQgZGVmYXVsdCBtYXg7IiwiaW1wb3J0IF9hcml0eSBmcm9tIFwiLi9pbnRlcm5hbC9fYXJpdHkuanNcIjtcbmltcG9ydCBfY3VycnkxIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTEuanNcIjtcbmltcG9ydCBtYXAgZnJvbSBcIi4vbWFwLmpzXCI7XG5pbXBvcnQgbWF4IGZyb20gXCIuL21heC5qc1wiO1xuaW1wb3J0IHJlZHVjZSBmcm9tIFwiLi9yZWR1Y2UuanNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24sIGBmbmAsIHdoaWNoIGVuY2Fwc3VsYXRlcyBgaWYvZWxzZSwgaWYvZWxzZSwgLi4uYCBsb2dpYy5cbiAqIGBSLmNvbmRgIHRha2VzIGEgbGlzdCBvZiBbcHJlZGljYXRlLCB0cmFuc2Zvcm1lcl0gcGFpcnMuIEFsbCBvZiB0aGUgYXJndW1lbnRzXG4gKiB0byBgZm5gIGFyZSBhcHBsaWVkIHRvIGVhY2ggb2YgdGhlIHByZWRpY2F0ZXMgaW4gdHVybiB1bnRpbCBvbmUgcmV0dXJucyBhXG4gKiBcInRydXRoeVwiIHZhbHVlLCBhdCB3aGljaCBwb2ludCBgZm5gIHJldHVybnMgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBpdHNcbiAqIGFyZ3VtZW50cyB0byB0aGUgY29ycmVzcG9uZGluZyB0cmFuc2Zvcm1lci4gSWYgbm9uZSBvZiB0aGUgcHJlZGljYXRlc1xuICogbWF0Y2hlcywgYGZuYCByZXR1cm5zIHVuZGVmaW5lZC5cbiAqXG4gKiAqKlBsZWFzZSBub3RlKio6IFRoaXMgaXMgbm90IGEgZGlyZWN0IHN1YnN0aXR1dGUgZm9yIGEgYHN3aXRjaGAgc3RhdGVtZW50LlxuICogUmVtZW1iZXIgdGhhdCBib3RoIGVsZW1lbnRzIG9mIGV2ZXJ5IHBhaXIgcGFzc2VkIHRvIGBjb25kYCBhcmUgKmZ1bmN0aW9ucyosXG4gKiBhbmQgYGNvbmRgIHJldHVybnMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC42LjBcbiAqIEBjYXRlZ29yeSBMb2dpY1xuICogQHNpZyBbWygqLi4uIC0+IEJvb2xlYW4pLCgqLi4uIC0+ICopXV0gLT4gKCouLi4gLT4gKilcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIEEgbGlzdCBvZiBbcHJlZGljYXRlLCB0cmFuc2Zvcm1lcl1cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQHNlZSBSLmlmRWxzZSwgUi51bmxlc3MsIFIud2hlblxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgIGNvbnN0IGZuID0gUi5jb25kKFtcbiAqICAgICAgICBbUi5lcXVhbHMoMCksICAgUi5hbHdheXMoJ3dhdGVyIGZyZWV6ZXMgYXQgMMKwQycpXSxcbiAqICAgICAgICBbUi5lcXVhbHMoMTAwKSwgUi5hbHdheXMoJ3dhdGVyIGJvaWxzIGF0IDEwMMKwQycpXSxcbiAqICAgICAgICBbUi5ULCAgICAgICAgICAgdGVtcCA9PiAnbm90aGluZyBzcGVjaWFsIGhhcHBlbnMgYXQgJyArIHRlbXAgKyAnwrBDJ11cbiAqICAgICAgXSk7XG4gKiAgICAgIGZuKDApOyAvLz0+ICd3YXRlciBmcmVlemVzIGF0IDDCsEMnXG4gKiAgICAgIGZuKDUwKTsgLy89PiAnbm90aGluZyBzcGVjaWFsIGhhcHBlbnMgYXQgNTDCsEMnXG4gKiAgICAgIGZuKDEwMCk7IC8vPT4gJ3dhdGVyIGJvaWxzIGF0IDEwMMKwQydcbiAqL1xudmFyIGNvbmQgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MShmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gIHZhciBhcml0eSA9IHJlZHVjZShtYXgsIDAsIG1hcChmdW5jdGlvbiAocGFpcikge1xuICAgIHJldHVybiBwYWlyWzBdLmxlbmd0aDtcbiAgfSwgcGFpcnMpKTtcbiAgcmV0dXJuIF9hcml0eShhcml0eSwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBpZHggPSAwO1xuICAgIHdoaWxlIChpZHggPCBwYWlycy5sZW5ndGgpIHtcbiAgICAgIGlmIChwYWlyc1tpZHhdWzBdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHBhaXJzW2lkeF1bMV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIGlkeCArPSAxO1xuICAgIH1cbiAgfSk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IGNvbmQ7IiwiLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgYWx3YXlzIHJldHVybnMgYHRydWVgLiBBbnkgcGFzc2VkIGluIHBhcmFtZXRlcnMgYXJlIGlnbm9yZWQuXG4gKlxuICogQGZ1bmNcbiAqIEBtZW1iZXJPZiBSXG4gKiBAc2luY2UgdjAuOS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBzaWcgKiAtPiBCb29sZWFuXG4gKiBAcGFyYW0geyp9XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQHNlZSBSLkZcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBSLlQoKTsgLy89PiB0cnVlXG4gKi9cbnZhciBUID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5leHBvcnQgZGVmYXVsdCBUOyIsImltcG9ydCBfY3VycnkxIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTEuanNcIjtcbmltcG9ydCBjdXJyeU4gZnJvbSBcIi4vY3VycnlOLmpzXCI7XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBmdW5jdGlvbiBtdWNoIGxpa2UgdGhlIHN1cHBsaWVkIG9uZSwgZXhjZXB0IHRoYXQgdGhlIGZpcnN0IHR3b1xuICogYXJndW1lbnRzJyBvcmRlciBpcyByZXZlcnNlZC5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHNpZyAoKGEsIGIsIGMsIC4uLikgLT4geikgLT4gKGIgLT4gYSAtPiBjIC0+IC4uLiAtPiB6KVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGludm9rZSB3aXRoIGl0cyBmaXJzdCB0d28gcGFyYW1ldGVycyByZXZlcnNlZC5cbiAqIEByZXR1cm4geyp9IFRoZSByZXN1bHQgb2YgaW52b2tpbmcgYGZuYCB3aXRoIGl0cyBmaXJzdCB0d28gcGFyYW1ldGVycycgb3JkZXIgcmV2ZXJzZWQuXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgY29uc3QgbWVyZ2VUaHJlZSA9IChhLCBiLCBjKSA9PiBbXS5jb25jYXQoYSwgYiwgYyk7XG4gKlxuICogICAgICBtZXJnZVRocmVlKDEsIDIsIDMpOyAvLz0+IFsxLCAyLCAzXVxuICpcbiAqICAgICAgUi5mbGlwKG1lcmdlVGhyZWUpKDEsIDIsIDMpOyAvLz0+IFsyLCAxLCAzXVxuICogQHN5bWIgUi5mbGlwKGYpKGEsIGIsIGMpID0gZihiLCBhLCBjKVxuICovXG52YXIgZmxpcCA9IC8qI19fUFVSRV9fKi9fY3VycnkxKGZ1bmN0aW9uIGZsaXAoZm4pIHtcbiAgcmV0dXJuIGN1cnJ5Tihmbi5sZW5ndGgsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgIGFyZ3NbMF0gPSBiO1xuICAgIGFyZ3NbMV0gPSBhO1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IGZsaXA7IiwiaW1wb3J0IF9jdXJyeTEgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5MS5qc1wiO1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgaW5wdXQgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjkuMFxuICogQGNhdGVnb3J5IFR5cGVcbiAqIEBzaWcgKiAtPiBCb29sZWFuXG4gKiBAcGFyYW0geyp9IHggVGhlIHZhbHVlIHRvIHRlc3QuXG4gKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgYHhgIGlzIGB1bmRlZmluZWRgIG9yIGBudWxsYCwgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgUi5pc05pbChudWxsKTsgLy89PiB0cnVlXG4gKiAgICAgIFIuaXNOaWwodW5kZWZpbmVkKTsgLy89PiB0cnVlXG4gKiAgICAgIFIuaXNOaWwoMCk7IC8vPT4gZmFsc2VcbiAqICAgICAgUi5pc05pbChbXSk7IC8vPT4gZmFsc2VcbiAqL1xudmFyIGlzTmlsID0gLyojX19QVVJFX18qL19jdXJyeTEoZnVuY3Rpb24gaXNOaWwoeCkge1xuICByZXR1cm4geCA9PSBudWxsO1xufSk7XG5leHBvcnQgZGVmYXVsdCBpc05pbDsiLCJpbXBvcnQgX2N1cnJ5MiBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkyLmpzXCI7XG5pbXBvcnQgX2hhcyBmcm9tIFwiLi9pbnRlcm5hbC9faGFzLmpzXCI7XG5pbXBvcnQgaXNOaWwgZnJvbSBcIi4vaXNOaWwuanNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGEgcGF0aCBleGlzdHMgaW4gYW4gb2JqZWN0LiBPbmx5IHRoZSBvYmplY3Qnc1xuICogb3duIHByb3BlcnRpZXMgYXJlIGNoZWNrZWQuXG4gKlxuICogQGZ1bmNcbiAqIEBtZW1iZXJPZiBSXG4gKiBAc2luY2UgdjAuMjYuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHR5cGVkZWZuIElkeCA9IFN0cmluZyB8IEludCB8IFN5bWJvbFxuICogQHNpZyBbSWR4XSAtPiB7YX0gLT4gQm9vbGVhblxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byB1c2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gY2hlY2sgdGhlIHBhdGggaW4uXG4gKiBAcmV0dXJuIHtCb29sZWFufSBXaGV0aGVyIHRoZSBwYXRoIGV4aXN0cy5cbiAqIEBzZWUgUi5oYXNcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBSLmhhc1BhdGgoWydhJywgJ2InXSwge2E6IHtiOiAyfX0pOyAgICAgICAgIC8vID0+IHRydWVcbiAqICAgICAgUi5oYXNQYXRoKFsnYScsICdiJ10sIHthOiB7YjogdW5kZWZpbmVkfX0pOyAvLyA9PiB0cnVlXG4gKiAgICAgIFIuaGFzUGF0aChbJ2EnLCAnYiddLCB7YToge2M6IDJ9fSk7ICAgICAgICAgLy8gPT4gZmFsc2VcbiAqICAgICAgUi5oYXNQYXRoKFsnYScsICdiJ10sIHt9KTsgICAgICAgICAgICAgICAgICAvLyA9PiBmYWxzZVxuICovXG52YXIgaGFzUGF0aCA9IC8qI19fUFVSRV9fKi9fY3VycnkyKGZ1bmN0aW9uIGhhc1BhdGgoX3BhdGgsIG9iaikge1xuICBpZiAoX3BhdGgubGVuZ3RoID09PSAwIHx8IGlzTmlsKG9iaikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHZhbCA9IG9iajtcbiAgdmFyIGlkeCA9IDA7XG4gIHdoaWxlIChpZHggPCBfcGF0aC5sZW5ndGgpIHtcbiAgICBpZiAoIWlzTmlsKHZhbCkgJiYgX2hhcyhfcGF0aFtpZHhdLCB2YWwpKSB7XG4gICAgICB2YWwgPSB2YWxbX3BhdGhbaWR4XV07XG4gICAgICBpZHggKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgaGFzUGF0aDsiLCJpbXBvcnQgX2N1cnJ5MiBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkyLmpzXCI7XG5pbXBvcnQgaGFzUGF0aCBmcm9tIFwiLi9oYXNQYXRoLmpzXCI7XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbiBvYmplY3QgaGFzIGFuIG93biBwcm9wZXJ0eSB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZVxuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHNpZyBzIC0+IHtzOiB4fSAtPiBCb29sZWFuXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gY2hlY2sgZm9yLlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybiB7Qm9vbGVhbn0gV2hldGhlciB0aGUgcHJvcGVydHkgZXhpc3RzLlxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgIGNvbnN0IGhhc05hbWUgPSBSLmhhcygnbmFtZScpO1xuICogICAgICBoYXNOYW1lKHtuYW1lOiAnYWxpY2UnfSk7ICAgLy89PiB0cnVlXG4gKiAgICAgIGhhc05hbWUoe25hbWU6ICdib2InfSk7ICAgICAvLz0+IHRydWVcbiAqICAgICAgaGFzTmFtZSh7fSk7ICAgICAgICAgICAgICAgIC8vPT4gZmFsc2VcbiAqXG4gKiAgICAgIGNvbnN0IHBvaW50ID0ge3g6IDAsIHk6IDB9O1xuICogICAgICBjb25zdCBwb2ludEhhcyA9IFIuaGFzKFIuX18sIHBvaW50KTtcbiAqICAgICAgcG9pbnRIYXMoJ3gnKTsgIC8vPT4gdHJ1ZVxuICogICAgICBwb2ludEhhcygneScpOyAgLy89PiB0cnVlXG4gKiAgICAgIHBvaW50SGFzKCd6Jyk7ICAvLz0+IGZhbHNlXG4gKi9cbnZhciBoYXMgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MihmdW5jdGlvbiBoYXMocHJvcCwgb2JqKSB7XG4gIHJldHVybiBoYXNQYXRoKFtwcm9wXSwgb2JqKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgaGFzOyIsImltcG9ydCBfY3VycnkxIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTEuanNcIjtcblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhbHdheXMgcmV0dXJucyB0aGUgZ2l2ZW4gdmFsdWUuIE5vdGUgdGhhdCBmb3JcbiAqIG5vbi1wcmltaXRpdmVzIHRoZSB2YWx1ZSByZXR1cm5lZCBpcyBhIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgdmFsdWUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBrbm93biBhcyBgY29uc3RgLCBgY29uc3RhbnRgLCBvciBgS2AgKGZvciBLIGNvbWJpbmF0b3IpIGluXG4gKiBvdGhlciBsYW5ndWFnZXMgYW5kIGxpYnJhcmllcy5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHNpZyBhIC0+ICgqIC0+IGEpXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBGdW5jdGlvbiA6OiAqIC0+IHZhbC5cbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBjb25zdCB0ID0gUi5hbHdheXMoJ1RlZScpO1xuICogICAgICB0KCk7IC8vPT4gJ1RlZSdcbiAqL1xudmFyIGFsd2F5cyA9IC8qI19fUFVSRV9fKi9fY3VycnkxKGZ1bmN0aW9uIGFsd2F5cyh2YWwpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdmFsO1xuICB9O1xufSk7XG5leHBvcnQgZGVmYXVsdCBhbHdheXM7IiwiaW1wb3J0IF9jdXJyeTIgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5Mi5qc1wiO1xuXG4vLyBgQ29uc3RgIGlzIGEgZnVuY3RvciB0aGF0IGVmZmVjdGl2ZWx5IGlnbm9yZXMgdGhlIGZ1bmN0aW9uIGdpdmVuIHRvIGBtYXBgLlxudmFyIENvbnN0ID0gZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogeCxcbiAgICAnZmFudGFzeS1sYW5kL21hcCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIFwidmlld1wiIG9mIHRoZSBnaXZlbiBkYXRhIHN0cnVjdHVyZSwgZGV0ZXJtaW5lZCBieSB0aGUgZ2l2ZW4gbGVucy5cbiAqIFRoZSBsZW5zJ3MgZm9jdXMgZGV0ZXJtaW5lcyB3aGljaCBwb3J0aW9uIG9mIHRoZSBkYXRhIHN0cnVjdHVyZSBpcyB2aXNpYmxlLlxuICpcbiAqIEBmdW5jXG4gKiBAbWVtYmVyT2YgUlxuICogQHNpbmNlIHYwLjE2LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEB0eXBlZGVmbiBMZW5zIHMgYSA9IEZ1bmN0b3IgZiA9PiAoYSAtPiBmIGEpIC0+IHMgLT4gZiBzXG4gKiBAc2lnIExlbnMgcyBhIC0+IHMgLT4gYVxuICogQHBhcmFtIHtMZW5zfSBsZW5zXG4gKiBAcGFyYW0geyp9IHhcbiAqIEByZXR1cm4geyp9XG4gKiBAc2VlIFIuc2V0LCBSLm92ZXIsIFIubGVucywgUi5sZW5zSW5kZXgsIFIubGVuc1Byb3AsIFIubGVuc1BhdGhcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBjb25zdCB4TGVucyA9IFIubGVuc1Byb3AoJ3gnKTtcbiAqXG4gKiAgICAgIFIudmlldyh4TGVucywge3g6IDEsIHk6IDJ9KTsgIC8vPT4gMVxuICogICAgICBSLnZpZXcoeExlbnMsIHt4OiA0LCB5OiAyfSk7ICAvLz0+IDRcbiAqL1xudmFyIHZpZXcgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MihmdW5jdGlvbiB2aWV3KGxlbnMsIHgpIHtcbiAgLy8gVXNpbmcgYENvbnN0YCBlZmZlY3RpdmVseSBpZ25vcmVzIHRoZSBzZXR0ZXIgZnVuY3Rpb24gb2YgdGhlIGBsZW5zYCxcbiAgLy8gbGVhdmluZyB0aGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhlIGdldHRlciBmdW5jdGlvbiB1bm1vZGlmaWVkLlxuICByZXR1cm4gbGVucyhDb25zdCkoeCkudmFsdWU7XG59KTtcbmV4cG9ydCBkZWZhdWx0IHZpZXc7IiwiLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIHBhc3NlZCBhcmd1bWVudCBpcyBhbiBpbnRlZ2VyLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IG5cbiAqIEBjYXRlZ29yeSBUeXBlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnQgZGVmYXVsdCBOdW1iZXIuaXNJbnRlZ2VyIHx8IGZ1bmN0aW9uIF9pc0ludGVnZXIobikge1xuICByZXR1cm4gbiA8PCAwID09PSBuO1xufTsiLCJpbXBvcnQgX2N1cnJ5MyBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkzLmpzXCI7XG5pbXBvcnQgX2hhcyBmcm9tIFwiLi9pbnRlcm5hbC9faGFzLmpzXCI7XG5pbXBvcnQgX2lzSW50ZWdlciBmcm9tIFwiLi9pbnRlcm5hbC9faXNJbnRlZ2VyLmpzXCI7XG5pbXBvcnQgX2Fzc29jIGZyb20gXCIuL2ludGVybmFsL19hc3NvYy5qc1wiO1xuaW1wb3J0IGlzTmlsIGZyb20gXCIuL2lzTmlsLmpzXCI7XG5cbi8qKlxuICogTWFrZXMgYSBzaGFsbG93IGNsb25lIG9mIGFuIG9iamVjdCwgc2V0dGluZyBvciBvdmVycmlkaW5nIHRoZSBub2RlcyByZXF1aXJlZFxuICogdG8gY3JlYXRlIHRoZSBnaXZlbiBwYXRoLCBhbmQgcGxhY2luZyB0aGUgc3BlY2lmaWMgdmFsdWUgYXQgdGhlIHRhaWwgZW5kIG9mXG4gKiB0aGF0IHBhdGguIE5vdGUgdGhhdCB0aGlzIGNvcGllcyBhbmQgZmxhdHRlbnMgcHJvdG90eXBlIHByb3BlcnRpZXMgb250byB0aGVcbiAqIG5ldyBvYmplY3QgYXMgd2VsbC4gQWxsIG5vbi1wcmltaXRpdmUgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHJlZmVyZW5jZS5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC44LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEB0eXBlZGVmbiBJZHggPSBTdHJpbmcgfCBJbnQgfCBTeW1ib2xcbiAqIEBzaWcgW0lkeF0gLT4gYSAtPiB7YX0gLT4ge2F9XG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoIHRoZSBwYXRoIHRvIHNldFxuICogQHBhcmFtIHsqfSB2YWwgVGhlIG5ldyB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGNsb25lXG4gKiBAcmV0dXJuIHtPYmplY3R9IEEgbmV3IG9iamVjdCBlcXVpdmFsZW50IHRvIHRoZSBvcmlnaW5hbCBleGNlcHQgYWxvbmcgdGhlIHNwZWNpZmllZCBwYXRoLlxuICogQHNlZSBSLmRpc3NvY1BhdGhcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBSLmFzc29jUGF0aChbJ2EnLCAnYicsICdjJ10sIDQyLCB7YToge2I6IHtjOiAwfX19KTsgLy89PiB7YToge2I6IHtjOiA0Mn19fVxuICpcbiAqICAgICAgLy8gQW55IG1pc3Npbmcgb3Igbm9uLW9iamVjdCBrZXlzIGluIHBhdGggd2lsbCBiZSBvdmVycmlkZGVuXG4gKiAgICAgIFIuYXNzb2NQYXRoKFsnYScsICdiJywgJ2MnXSwgNDIsIHthOiA1fSk7IC8vPT4ge2E6IHtiOiB7YzogNDJ9fX1cbiAqL1xudmFyIGFzc29jUGF0aCA9IC8qI19fUFVSRV9fKi9fY3VycnkzKGZ1bmN0aW9uIGFzc29jUGF0aChwYXRoLCB2YWwsIG9iaikge1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIHZhciBpZHggPSBwYXRoWzBdO1xuICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgdmFyIG5leHRPYmogPSAhaXNOaWwob2JqKSAmJiBfaGFzKGlkeCwgb2JqKSAmJiB0eXBlb2Ygb2JqW2lkeF0gPT09ICdvYmplY3QnID8gb2JqW2lkeF0gOiBfaXNJbnRlZ2VyKHBhdGhbMV0pID8gW10gOiB7fTtcbiAgICB2YWwgPSBhc3NvY1BhdGgoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocGF0aCwgMSksIHZhbCwgbmV4dE9iaik7XG4gIH1cbiAgcmV0dXJuIF9hc3NvYyhpZHgsIHZhbCwgb2JqKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgYXNzb2NQYXRoOyIsImltcG9ydCBfaXNBcnJheSBmcm9tIFwiLi9faXNBcnJheS5qc1wiO1xuaW1wb3J0IF9pc0ludGVnZXIgZnJvbSBcIi4vX2lzSW50ZWdlci5qc1wiO1xuXG4vKipcbiAqIE1ha2VzIGEgc2hhbGxvdyBjbG9uZSBvZiBhbiBvYmplY3QsIHNldHRpbmcgb3Igb3ZlcnJpZGluZyB0aGUgc3BlY2lmaWVkXG4gKiBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiB2YWx1ZS4gTm90ZSB0aGF0IHRoaXMgY29waWVzIGFuZCBmbGF0dGVucyBwcm90b3R5cGVcbiAqIHByb3BlcnRpZXMgb250byB0aGUgbmV3IG9iamVjdCBhcyB3ZWxsLiBBbGwgbm9uLXByaW1pdGl2ZSBwcm9wZXJ0aWVzIGFyZVxuICogY29waWVkIGJ5IHJlZmVyZW5jZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBwcm9wIFRoZSBwcm9wZXJ0eSBuYW1lIHRvIHNldFxuICogQHBhcmFtIHsqfSB2YWwgVGhlIG5ldyB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGNsb25lXG4gKiBAcmV0dXJuIHtPYmplY3R8QXJyYXl9IEEgbmV3IG9iamVjdCBlcXVpdmFsZW50IHRvIHRoZSBvcmlnaW5hbCBleGNlcHQgZm9yIHRoZSBjaGFuZ2VkIHByb3BlcnR5LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXNzb2MocHJvcCwgdmFsLCBvYmopIHtcbiAgaWYgKF9pc0ludGVnZXIocHJvcCkgJiYgX2lzQXJyYXkob2JqKSkge1xuICAgIHZhciBhcnIgPSBbXS5jb25jYXQob2JqKTtcbiAgICBhcnJbcHJvcF0gPSB2YWw7XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvciAodmFyIHAgaW4gb2JqKSB7XG4gICAgcmVzdWx0W3BdID0gb2JqW3BdO1xuICB9XG4gIHJlc3VsdFtwcm9wXSA9IHZhbDtcbiAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgX2N1cnJ5MiBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkyLmpzXCI7XG5pbXBvcnQgbWFwIGZyb20gXCIuL21hcC5qc1wiO1xuXG4vKipcbiAqIFJldHVybnMgYSBsZW5zIGZvciB0aGUgZ2l2ZW4gZ2V0dGVyIGFuZCBzZXR0ZXIgZnVuY3Rpb25zLiBUaGUgZ2V0dGVyIFwiZ2V0c1wiXG4gKiB0aGUgdmFsdWUgb2YgdGhlIGZvY3VzOyB0aGUgc2V0dGVyIFwic2V0c1wiIHRoZSB2YWx1ZSBvZiB0aGUgZm9jdXMuIFRoZSBzZXR0ZXJcbiAqIHNob3VsZCBub3QgbXV0YXRlIHRoZSBkYXRhIHN0cnVjdHVyZS5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC44LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEB0eXBlZGVmbiBMZW5zIHMgYSA9IEZ1bmN0b3IgZiA9PiAoYSAtPiBmIGEpIC0+IHMgLT4gZiBzXG4gKiBAc2lnIChzIC0+IGEpIC0+ICgoYSwgcykgLT4gcykgLT4gTGVucyBzIGFcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGdldHRlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyXG4gKiBAcmV0dXJuIHtMZW5zfVxuICogQHNlZSBSLnZpZXcsIFIuc2V0LCBSLm92ZXIsIFIubGVuc0luZGV4LCBSLmxlbnNQcm9wXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgY29uc3QgeExlbnMgPSBSLmxlbnMoUi5wcm9wKCd4JyksIFIuYXNzb2MoJ3gnKSk7XG4gKlxuICogICAgICBSLnZpZXcoeExlbnMsIHt4OiAxLCB5OiAyfSk7ICAgICAgICAgICAgLy89PiAxXG4gKiAgICAgIFIuc2V0KHhMZW5zLCA0LCB7eDogMSwgeTogMn0pOyAgICAgICAgICAvLz0+IHt4OiA0LCB5OiAyfVxuICogICAgICBSLm92ZXIoeExlbnMsIFIubmVnYXRlLCB7eDogMSwgeTogMn0pOyAgLy89PiB7eDogLTEsIHk6IDJ9XG4gKi9cbnZhciBsZW5zID0gLyojX19QVVJFX18qL19jdXJyeTIoZnVuY3Rpb24gbGVucyhnZXR0ZXIsIHNldHRlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRvRnVuY3RvckZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKGZvY3VzKSB7XG4gICAgICAgIHJldHVybiBzZXR0ZXIoZm9jdXMsIHRhcmdldCk7XG4gICAgICB9LCB0b0Z1bmN0b3JGbihnZXR0ZXIodGFyZ2V0KSkpO1xuICAgIH07XG4gIH07XG59KTtcbmV4cG9ydCBkZWZhdWx0IGxlbnM7IiwiaW1wb3J0IF9jdXJyeTEgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5MS5qc1wiO1xuaW1wb3J0IGFzc29jUGF0aCBmcm9tIFwiLi9hc3NvY1BhdGguanNcIjtcbmltcG9ydCBsZW5zIGZyb20gXCIuL2xlbnMuanNcIjtcbmltcG9ydCBfcGF0aCBmcm9tIFwiLi9pbnRlcm5hbC9fcGF0aC5qc1wiO1xuXG4vKipcbiAqIFJldHVybnMgYSBsZW5zIHdob3NlIGZvY3VzIGlzIHRoZSBzcGVjaWZpZWQgcGF0aC5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xOS4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAdHlwZWRlZm4gSWR4ID0gU3RyaW5nIHwgSW50IHwgU3ltYm9sXG4gKiBAdHlwZWRlZm4gTGVucyBzIGEgPSBGdW5jdG9yIGYgPT4gKGEgLT4gZiBhKSAtPiBzIC0+IGYgc1xuICogQHNpZyBbSWR4XSAtPiBMZW5zIHMgYVxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byB1c2UuXG4gKiBAcmV0dXJuIHtMZW5zfVxuICogQHNlZSBSLnZpZXcsIFIuc2V0LCBSLm92ZXJcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBjb25zdCB4SGVhZFlMZW5zID0gUi5sZW5zUGF0aChbJ3gnLCAwLCAneSddKTtcbiAqXG4gKiAgICAgIFIudmlldyh4SGVhZFlMZW5zLCB7eDogW3t5OiAyLCB6OiAzfSwge3k6IDQsIHo6IDV9XX0pO1xuICogICAgICAvLz0+IDJcbiAqICAgICAgUi5zZXQoeEhlYWRZTGVucywgMSwge3g6IFt7eTogMiwgejogM30sIHt5OiA0LCB6OiA1fV19KTtcbiAqICAgICAgLy89PiB7eDogW3t5OiAxLCB6OiAzfSwge3k6IDQsIHo6IDV9XX1cbiAqICAgICAgUi5vdmVyKHhIZWFkWUxlbnMsIFIubmVnYXRlLCB7eDogW3t5OiAyLCB6OiAzfSwge3k6IDQsIHo6IDV9XX0pO1xuICogICAgICAvLz0+IHt4OiBbe3k6IC0yLCB6OiAzfSwge3k6IDQsIHo6IDV9XX1cbiAqL1xuXG52YXIgbGVuc1BhdGggPSAvKiNfX1BVUkVfXyovX2N1cnJ5MShmdW5jdGlvbiBsZW5zUGF0aChwKSB7XG4gIHJldHVybiBsZW5zKGZ1bmN0aW9uICh2YWwpIHtcbiAgICByZXR1cm4gX3BhdGgocCwgdmFsKTtcbiAgfSwgYXNzb2NQYXRoKHApKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgbGVuc1BhdGg7IiwiaW1wb3J0IF9pc0ludGVnZXIgZnJvbSBcIi4vX2lzSW50ZWdlci5qc1wiO1xuaW1wb3J0IF9udGggZnJvbSBcIi4vX250aC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3BhdGgocGF0aEFyLCBvYmopIHtcbiAgdmFyIHZhbCA9IG9iajtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoQXIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodmFsID09IG51bGwpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZhciBwID0gcGF0aEFyW2ldO1xuICAgIGlmIChfaXNJbnRlZ2VyKHApKSB7XG4gICAgICB2YWwgPSBfbnRoKHAsIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbCA9IHZhbFtwXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn0iLCJpbXBvcnQgX2lzU3RyaW5nIGZyb20gXCIuL19pc1N0cmluZy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX250aChvZmZzZXQsIGxpc3QpIHtcbiAgdmFyIGlkeCA9IG9mZnNldCA8IDAgPyBsaXN0Lmxlbmd0aCArIG9mZnNldCA6IG9mZnNldDtcbiAgcmV0dXJuIF9pc1N0cmluZyhsaXN0KSA/IGxpc3QuY2hhckF0KGlkeCkgOiBsaXN0W2lkeF07XG59IiwiaW1wb3J0ICogYXMgUiBmcm9tICdyYW1kYSc7XG5cbi8vIFN0YXRlXG5pbnRlcmZhY2UgQ2FsY1N0YXRlIHtcbiAgICBzdG9yZWRWYWx1ZTogc3RyaW5nO1xuICAgIG9wZXJhdG9yOiBzdHJpbmc7XG4gICAgZGlzcGxheVZhbHVlOiBzdHJpbmc7XG4gICAgaXNQb3N0Q2FsYzogYm9vbGVhbjtcbn07XG5cbi8vIGludGVyZmFjZSBPcGVyYW5kcyB7XG4vLyAgICAgc3RvcmVkT3BlcmFuZDogbnVtYmVyO1xuLy8gICAgIGN1cnJPcGVyYW5kOiBudW1iZXI7XG4vLyB9O1xuXG5jb25zdCBpbml0U3RhdGUgPSAoY2FsYz86IENhbGNTdGF0ZSk6IENhbGNTdGF0ZSA9PiAoe1xuICAgIHN0b3JlZFZhbHVlOiAnMCcsXG4gICAgb3BlcmF0b3I6ICcnLFxuICAgIGRpc3BsYXlWYWx1ZTogJzAnLFxuICAgIGlzUG9zdENhbGM6IGZhbHNlXG59KTtcblxubGV0IGdsb2JhbFN0YXRlOiBDYWxjU3RhdGUgPSBpbml0U3RhdGUoKTtcblxuY29uc3QgdXBkYXRlU3RhdGUgPSAoZ2xvYmFsU3RhdGU6IENhbGNTdGF0ZSkgPT4gXG4gICAgKGNhbGNTdGF0ZTogQ2FsY1N0YXRlKTogQ2FsY1N0YXRlID0+IHtcbiAgICBPYmplY3QuYXNzaWduKGdsb2JhbFN0YXRlLCBjYWxjU3RhdGUpO1xuICAgIHJldHVybiBnbG9iYWxTdGF0ZTtcbn07XG5cblxuY29uc3QgZGlzcFZhbExlbnMgPSBSLmxlbnNQYXRoPENhbGNTdGF0ZSwgc3RyaW5nPihbJ2Rpc3BsYXlWYWx1ZSddKTtcbmNvbnN0IHN0b3JlVmFsTGVucyA9IFIubGVuc1BhdGg8Q2FsY1N0YXRlLCBzdHJpbmc+KFsnc3RvcmVkVmFsdWUnXSk7XG5jb25zdCBpc1Bvc3RDYWxjTGVucyA9IFIubGVuc1BhdGg8Q2FsY1N0YXRlLCBib29sZWFuPihbJ2lzUG9zdENhbGMnXSk7XG5jb25zdCBvcExlbnMgPSBSLmxlbnNQYXRoPENhbGNTdGF0ZSwgc3RyaW5nPihbJ29wZXJhdG9yJ10pO1xuXG5leHBvcnQge0NhbGNTdGF0ZSwgaW5pdFN0YXRlLCB1cGRhdGVTdGF0ZSwgZGlzcFZhbExlbnMsIHN0b3JlVmFsTGVucywgaXNQb3N0Q2FsY0xlbnMsIG9wTGVucywgZ2xvYmFsU3RhdGV9OyIsImltcG9ydCBfY3VycnkzIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTMuanNcIjtcblxuLy8gYElkZW50aXR5YCBpcyBhIGZ1bmN0b3IgdGhhdCBob2xkcyBhIHNpbmdsZSB2YWx1ZSwgd2hlcmUgYG1hcGAgc2ltcGx5XG4vLyB0cmFuc2Zvcm1zIHRoZSBoZWxkIHZhbHVlIHdpdGggdGhlIHByb3ZpZGVkIGZ1bmN0aW9uLlxudmFyIElkZW50aXR5ID0gZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogeCxcbiAgICBtYXA6IGZ1bmN0aW9uIChmKSB7XG4gICAgICByZXR1cm4gSWRlbnRpdHkoZih4KSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgXCJzZXR0aW5nXCIgdGhlIHBvcnRpb24gb2YgdGhlIGdpdmVuIGRhdGEgc3RydWN0dXJlXG4gKiBmb2N1c2VkIGJ5IHRoZSBnaXZlbiBsZW5zIHRvIHRoZSByZXN1bHQgb2YgYXBwbHlpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvXG4gKiB0aGUgZm9jdXNlZCB2YWx1ZS5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xNi4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAdHlwZWRlZm4gTGVucyBzIGEgPSBGdW5jdG9yIGYgPT4gKGEgLT4gZiBhKSAtPiBzIC0+IGYgc1xuICogQHNpZyBMZW5zIHMgYSAtPiAoYSAtPiBhKSAtPiBzIC0+IHNcbiAqIEBwYXJhbSB7TGVuc30gbGVuc1xuICogQHBhcmFtIHsqfSB2XG4gKiBAcGFyYW0geyp9IHhcbiAqIEByZXR1cm4geyp9XG4gKiBAc2VlIFIudmlldywgUi5zZXQsIFIubGVucywgUi5sZW5zSW5kZXgsIFIubGVuc1Byb3AsIFIubGVuc1BhdGhcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICBjb25zdCBoZWFkTGVucyA9IFIubGVuc0luZGV4KDApO1xuICpcbiAqICAgICAgUi5vdmVyKGhlYWRMZW5zLCBSLnRvVXBwZXIsIFsnZm9vJywgJ2JhcicsICdiYXonXSk7IC8vPT4gWydGT08nLCAnYmFyJywgJ2JheiddXG4gKi9cbnZhciBvdmVyID0gLyojX19QVVJFX18qL19jdXJyeTMoZnVuY3Rpb24gb3ZlcihsZW5zLCBmLCB4KSB7XG4gIC8vIFRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgZ2V0dGVyIGZ1bmN0aW9uIGlzIGZpcnN0IHRyYW5zZm9ybWVkIHdpdGggYGZgLFxuICAvLyB0aGVuIHNldCBhcyB0aGUgdmFsdWUgb2YgYW4gYElkZW50aXR5YC4gVGhpcyBpcyB0aGVuIG1hcHBlZCBvdmVyIHdpdGggdGhlXG4gIC8vIHNldHRlciBmdW5jdGlvbiBvZiB0aGUgbGVucy5cbiAgcmV0dXJuIGxlbnMoZnVuY3Rpb24gKHkpIHtcbiAgICByZXR1cm4gSWRlbnRpdHkoZih5KSk7XG4gIH0pKHgpLnZhbHVlO1xufSk7XG5leHBvcnQgZGVmYXVsdCBvdmVyOyIsImltcG9ydCBfY3VycnkzIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTMuanNcIjtcbmltcG9ydCBhbHdheXMgZnJvbSBcIi4vYWx3YXlzLmpzXCI7XG5pbXBvcnQgb3ZlciBmcm9tIFwiLi9vdmVyLmpzXCI7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmVzdWx0IG9mIFwic2V0dGluZ1wiIHRoZSBwb3J0aW9uIG9mIHRoZSBnaXZlbiBkYXRhIHN0cnVjdHVyZVxuICogZm9jdXNlZCBieSB0aGUgZ2l2ZW4gbGVucyB0byB0aGUgZ2l2ZW4gdmFsdWUuXG4gKlxuICogQGZ1bmNcbiAqIEBtZW1iZXJPZiBSXG4gKiBAc2luY2UgdjAuMTYuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHR5cGVkZWZuIExlbnMgcyBhID0gRnVuY3RvciBmID0+IChhIC0+IGYgYSkgLT4gcyAtPiBmIHNcbiAqIEBzaWcgTGVucyBzIGEgLT4gYSAtPiBzIC0+IHNcbiAqIEBwYXJhbSB7TGVuc30gbGVuc1xuICogQHBhcmFtIHsqfSB2XG4gKiBAcGFyYW0geyp9IHhcbiAqIEByZXR1cm4geyp9XG4gKiBAc2VlIFIudmlldywgUi5vdmVyLCBSLmxlbnMsIFIubGVuc0luZGV4LCBSLmxlbnNQcm9wLCBSLmxlbnNQYXRoXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgY29uc3QgeExlbnMgPSBSLmxlbnNQcm9wKCd4Jyk7XG4gKlxuICogICAgICBSLnNldCh4TGVucywgNCwge3g6IDEsIHk6IDJ9KTsgIC8vPT4ge3g6IDQsIHk6IDJ9XG4gKiAgICAgIFIuc2V0KHhMZW5zLCA4LCB7eDogMSwgeTogMn0pOyAgLy89PiB7eDogOCwgeTogMn1cbiAqL1xudmFyIHNldCA9IC8qI19fUFVSRV9fKi9fY3VycnkzKGZ1bmN0aW9uIHNldChsZW5zLCB2LCB4KSB7XG4gIHJldHVybiBvdmVyKGxlbnMsIGFsd2F5cyh2KSwgeCk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IHNldDsiLCJleHBvcnQgZnVuY3Rpb24gcGlwZShpbnB1dCkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9wZXJhdGlvbnNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBvdXRwdXQgPSBpbnB1dDtcbiAgICB2YXIgbGF6eU9wZXJhdGlvbnMgPSBvcGVyYXRpb25zLm1hcChmdW5jdGlvbiAob3ApIHtcbiAgICAgICAgcmV0dXJuIFwibGF6eVwiIGluIG9wID8gcHJlcGFyZUxhenlPcGVyYXRpb24ob3ApIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHZhciBvcGVyYXRpb25JbmRleCA9IDA7XG4gICAgd2hpbGUgKG9wZXJhdGlvbkluZGV4IDwgb3BlcmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGxhenlPcGVyYXRpb24gPSBsYXp5T3BlcmF0aW9uc1tvcGVyYXRpb25JbmRleF07XG4gICAgICAgIGlmIChsYXp5T3BlcmF0aW9uID09PSB1bmRlZmluZWQgfHwgIWlzSXRlcmFibGUob3V0cHV0KSkge1xuICAgICAgICAgICAgdmFyIG9wZXJhdGlvbiA9IG9wZXJhdGlvbnNbb3BlcmF0aW9uSW5kZXhdO1xuICAgICAgICAgICAgb3V0cHV0ID0gb3BlcmF0aW9uKG91dHB1dCk7XG4gICAgICAgICAgICBvcGVyYXRpb25JbmRleCArPSAxO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhenlTZXF1ZW5jZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IG9wZXJhdGlvbkluZGV4OyBpbmRleCA8IG9wZXJhdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgbGF6eU9wID0gbGF6eU9wZXJhdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGxhenlPcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXp5U2VxdWVuY2UucHVzaChsYXp5T3ApO1xuICAgICAgICAgICAgaWYgKGxhenlPcC5pc1NpbmdsZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBhY2N1bXVsYXRvciA9IFtdO1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBvdXRwdXRbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmICgoX2EgPSByZXN1bHQuZG9uZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzaG91bGRFeGl0RWFybHkgPSBfcHJvY2Vzc0l0ZW0ocmVzdWx0LnZhbHVlLCBhY2N1bXVsYXRvciwgbGF6eVNlcXVlbmNlKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRFeGl0RWFybHkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNTaW5nbGUgPSBsYXp5U2VxdWVuY2VbbGF6eVNlcXVlbmNlLmxlbmd0aCAtIDFdLmlzU2luZ2xlO1xuICAgICAgICBvdXRwdXQgPSBpc1NpbmdsZSA/IGFjY3VtdWxhdG9yWzBdIDogYWNjdW11bGF0b3I7XG4gICAgICAgIG9wZXJhdGlvbkluZGV4ICs9IGxhenlTZXF1ZW5jZS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5mdW5jdGlvbiBfcHJvY2Vzc0l0ZW0oaXRlbSwgYWNjdW11bGF0b3IsIGxhenlTZXF1ZW5jZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAobGF6eVNlcXVlbmNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhY2N1bXVsYXRvci5wdXNoKGl0ZW0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBjdXJyZW50SXRlbSA9IGl0ZW07XG4gICAgdmFyIGxhenlSZXN1bHQgPSB7IGRvbmU6IGZhbHNlLCBoYXNOZXh0OiBmYWxzZSB9O1xuICAgIHZhciBpc0RvbmUgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBvcGVyYXRpb25zSW5kZXggPSAwOyBvcGVyYXRpb25zSW5kZXggPCBsYXp5U2VxdWVuY2UubGVuZ3RoOyBvcGVyYXRpb25zSW5kZXgrKykge1xuICAgICAgICB2YXIgbGF6eUZuID0gbGF6eVNlcXVlbmNlW29wZXJhdGlvbnNJbmRleF07XG4gICAgICAgIHZhciBpc0luZGV4ZWQgPSBsYXp5Rm4uaXNJbmRleGVkLCBpbmRleCA9IGxhenlGbi5pbmRleCwgaXRlbXMgPSBsYXp5Rm4uaXRlbXM7XG4gICAgICAgIGl0ZW1zLnB1c2goY3VycmVudEl0ZW0pO1xuICAgICAgICBsYXp5UmVzdWx0ID0gaXNJbmRleGVkXG4gICAgICAgICAgICA/IGxhenlGbihjdXJyZW50SXRlbSwgaW5kZXgsIGl0ZW1zKVxuICAgICAgICAgICAgOiBsYXp5Rm4oY3VycmVudEl0ZW0pO1xuICAgICAgICBsYXp5Rm4uaW5kZXggKz0gMTtcbiAgICAgICAgaWYgKGxhenlSZXN1bHQuaGFzTmV4dCkge1xuICAgICAgICAgICAgaWYgKChfYSA9IGxhenlSZXN1bHQuaGFzTWFueSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9iID0gbGF6eVJlc3VsdC5uZXh0OyBfaSA8IF9iLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3ViSXRlbSA9IF9iW19pXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YlJlc3VsdCA9IF9wcm9jZXNzSXRlbShzdWJJdGVtLCBhY2N1bXVsYXRvciwgbGF6eVNlcXVlbmNlLnNsaWNlKG9wZXJhdGlvbnNJbmRleCArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YlJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEl0ZW0gPSBsYXp5UmVzdWx0Lm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsYXp5UmVzdWx0Lmhhc05leHQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYXp5UmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgIGlzRG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhenlSZXN1bHQuaGFzTmV4dCkge1xuICAgICAgICBhY2N1bXVsYXRvci5wdXNoKGN1cnJlbnRJdGVtKTtcbiAgICB9XG4gICAgaWYgKGlzRG9uZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcHJlcGFyZUxhenlPcGVyYXRpb24ob3ApIHtcbiAgICB2YXIgbGF6eSA9IG9wLmxhenksIGxhenlBcmdzID0gb3AubGF6eUFyZ3M7XG4gICAgdmFyIGZuID0gbGF6eS5hcHBseSh2b2lkIDAsIChsYXp5QXJncyAhPT0gbnVsbCAmJiBsYXp5QXJncyAhPT0gdm9pZCAwID8gbGF6eUFyZ3MgOiBbXSkpO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGZuLCB7XG4gICAgICAgIGlzSW5kZXhlZDogbGF6eS5pbmRleGVkLFxuICAgICAgICBpc1NpbmdsZTogbGF6eS5zaW5nbGUsXG4gICAgICAgIGluZGV4OiAwLFxuICAgICAgICBpdGVtczogW10sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBpc0l0ZXJhYmxlKHNvbWV0aGluZykge1xuICAgIHJldHVybiAodHlwZW9mIHNvbWV0aGluZyA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICAodHlwZW9mIHNvbWV0aGluZyA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgc29tZXRoaW5nICE9PSBudWxsICYmXG4gICAgICAgICAgICBTeW1ib2wuaXRlcmF0b3IgaW4gc29tZXRoaW5nKSk7XG59XG4iLCJpbXBvcnQgKiBhcyBSIGZyb20gJ3JhbWRhJztcbmltcG9ydCAqIGFzIFJFIGZyb20gJ3JlbWVkYSc7XG5pbXBvcnQge0NhbGNTdGF0ZSwgZGlzcFZhbExlbnMsIHN0b3JlVmFsTGVucywgaXNQb3N0Q2FsY0xlbnMsIG9wTGVuc30gXG4gICAgZnJvbSAnLi9zdGF0ZSc7XG5cbmludGVyZmFjZSBCaW5hcnlPcHMge1xuICAgIFtpOiBzdHJpbmddOiAoYTogc3RyaW5nLCBiOiBzdHJpbmcpID0+IHN0cmluZztcbn07XG5cbmNvbnN0IGJpbmFyeU9wczogQmluYXJ5T3BzID0ge1xuICAgICcrJzogKGE6IHN0cmluZywgYjogc3RyaW5nKSA9PiBTdHJpbmcocGFyc2VGbG9hdChhKSArIHBhcnNlRmxvYXQoYikpLFxuICAgICctJzogKGE6IHN0cmluZywgYjogc3RyaW5nKSA9PiBTdHJpbmcocGFyc2VGbG9hdChhKSAtIHBhcnNlRmxvYXQoYikpLFxuICAgICcqJzogKGE6IHN0cmluZywgYjogc3RyaW5nKSA9PiBTdHJpbmcocGFyc2VGbG9hdChhKSAqIHBhcnNlRmxvYXQoYikpLFxuICAgICcvJzogKGE6IHN0cmluZywgYjogc3RyaW5nKSA9PiBTdHJpbmcocGFyc2VGbG9hdChhKSAvIHBhcnNlRmxvYXQoYikpXG59O1xuXG5jb25zdCBhcHBseUJpbkZ1biA9IChmdW46IChhOiBzdHJpbmcsIGI6IHN0cmluZykgPT4gc3RyaW5nKSA9PiBcbiAgICAoY2FsY1N0YXRlOiBDYWxjU3RhdGUpOiBDYWxjU3RhdGUgID0+IHtcbiAgICByZXR1cm4gUi5zZXQoXG4gICAgICAgIGRpc3BWYWxMZW5zLFxuICAgICAgICBmdW4oUi52aWV3KHN0b3JlVmFsTGVucywgY2FsY1N0YXRlKSwgUi52aWV3KGRpc3BWYWxMZW5zLCBjYWxjU3RhdGUpKSxcbiAgICAgICAgY2FsY1N0YXRlXG4gICAgKTtcbn07XG5cbmNvbnN0IGNvcHlUb1N0b3JlZE9wID0gKGNhbGNTdGF0ZTogQ2FsY1N0YXRlKSA9PiB7XG4gICAgICAgIHJldHVybiBSLnNldChzdG9yZVZhbExlbnMsIFIudmlldyhkaXNwVmFsTGVucywgY2FsY1N0YXRlKSwgY2FsY1N0YXRlKTtcbn07XG5cbmNvbnN0IGNhbGN1bGF0ZSA9IChjYWxjU3RhdGU6IENhbGNTdGF0ZSkgPT4ge1xuICAgIHJldHVybiBSLnZpZXcob3BMZW5zLCBjYWxjU3RhdGUpIGluIGJpbmFyeU9wcyBcbiAgICAvLyBSYW1kYSBwaXBlIHdhc24ndCB3b3JraW5nIHdpdGggdHlwZXNjcmlwdCBzb1xuICAgIC8vIHVzZWQgUmVtZWRhIGluc3RlYWRcbiAgICA/IFJFLnBpcGVkKFxuICAgICAgICBSLnNldChpc1Bvc3RDYWxjTGVucywgdHJ1ZSksXG4gICAgICAgIGFwcGx5QmluRnVuKGJpbmFyeU9wc1tSLnZpZXcob3BMZW5zLCBjYWxjU3RhdGUpXSksICAgICAgIFxuICAgICkoY2FsY1N0YXRlKVxuICAgIDogY2FsY1N0YXRlO1xufVxuXG5jb25zdCBlbnRlckJpbk9wID0gKGJpbk9wOiBzdHJpbmcpID0+IChjYWxjU3RhdGU6IENhbGNTdGF0ZSkgPT4ge1xuICAgIHJldHVybiBSLnBpcGUoXG4gICAgICAgIGNhbGN1bGF0ZSxcbiAgICAgICAgUi5zZXQob3BMZW5zLCBiaW5PcCksXG4gICAgICAgIGNvcHlUb1N0b3JlZE9wLFxuICAgICAgICBSLnNldChpc1Bvc3RDYWxjTGVucywgdHJ1ZSlcbiAgICApKGNhbGNTdGF0ZSk7XG59O1xuXG5leHBvcnQge2FwcGx5QmluRnVuLCBjb3B5VG9TdG9yZWRPcCwgY2FsY3VsYXRlLCBlbnRlckJpbk9wLCBiaW5hcnlPcHN9OyIsInZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbmltcG9ydCB7IHBpcGUgfSBmcm9tIFwiLi9waXBlXCI7XG5leHBvcnQgZnVuY3Rpb24gcGlwZWQoKSB7XG4gICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHBpcGUuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFt2YWx1ZV0sIG9wZXJhdGlvbnMsIGZhbHNlKSk7XG4gICAgfTtcbn1cbiIsImltcG9ydCBfY3VycnkzIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTMuanNcIjtcbmltcG9ydCBjdXJyeU4gZnJvbSBcIi4vY3VycnlOLmpzXCI7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBwcm9jZXNzIGVpdGhlciB0aGUgYG9uVHJ1ZWAgb3IgdGhlIGBvbkZhbHNlYFxuICogZnVuY3Rpb24gZGVwZW5kaW5nIHVwb24gdGhlIHJlc3VsdCBvZiB0aGUgYGNvbmRpdGlvbmAgcHJlZGljYXRlLlxuICpcbiAqIE5vdGUgdGhhdCBgaWZFbHNlYCB0YWtlcyBpdHMgYXJpdHkgZnJvbSB0aGUgbG9uZ2VzdCBvZiB0aGUgdGhyZWUgZnVuY3Rpb25zIHBhc3NlZCB0byBpdC5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC44LjBcbiAqIEBjYXRlZ29yeSBMb2dpY1xuICogQHNpZyAoKi4uLiAtPiBCb29sZWFuKSAtPiAoKi4uLiAtPiAqKSAtPiAoKi4uLiAtPiAqKSAtPiAoKi4uLiAtPiAqKVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZGl0aW9uIEEgcHJlZGljYXRlIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblRydWUgQSBmdW5jdGlvbiB0byBpbnZva2Ugd2hlbiB0aGUgYGNvbmRpdGlvbmAgZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25GYWxzZSBBIGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHRoZSBgY29uZGl0aW9uYCBldmFsdWF0ZXMgdG8gYSBmYWxzeSB2YWx1ZS5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIG5ldyBmdW5jdGlvbiB0aGF0IHdpbGwgcHJvY2VzcyBlaXRoZXIgdGhlIGBvblRydWVgIG9yIHRoZSBgb25GYWxzZWBcbiAqICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZXBlbmRpbmcgdXBvbiB0aGUgcmVzdWx0IG9mIHRoZSBgY29uZGl0aW9uYCBwcmVkaWNhdGUuXG4gKiBAc2VlIFIudW5sZXNzLCBSLndoZW4sIFIuY29uZFxuICogQGV4YW1wbGVcbiAqXG4gKiAgICAgIGNvbnN0IGluY0NvdW50ID0gUi5pZkVsc2UoXG4gKiAgICAgICAgUi5oYXMoJ2NvdW50JyksXG4gKiAgICAgICAgUi5vdmVyKFIubGVuc1Byb3AoJ2NvdW50JyksIFIuaW5jKSxcbiAqICAgICAgICBSLmFzc29jKCdjb3VudCcsIDEpXG4gKiAgICAgICk7XG4gKiAgICAgIGluY0NvdW50KHsgY291bnQ6IDEgfSk7IC8vPT4geyBjb3VudDogMiB9XG4gKiAgICAgIGluY0NvdW50KHt9KTsgICAgICAgICAgIC8vPT4geyBjb3VudDogMSB9XG4gKi9cbnZhciBpZkVsc2UgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MyhmdW5jdGlvbiBpZkVsc2UoY29uZGl0aW9uLCBvblRydWUsIG9uRmFsc2UpIHtcbiAgcmV0dXJuIGN1cnJ5TihNYXRoLm1heChjb25kaXRpb24ubGVuZ3RoLCBvblRydWUubGVuZ3RoLCBvbkZhbHNlLmxlbmd0aCksIGZ1bmN0aW9uIF9pZkVsc2UoKSB7XG4gICAgcmV0dXJuIGNvbmRpdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpID8gb25UcnVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBvbkZhbHNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0pO1xufSk7XG5leHBvcnQgZGVmYXVsdCBpZkVsc2U7IiwiaW1wb3J0IF9jdXJyeTIgZnJvbSBcIi4vaW50ZXJuYWwvX2N1cnJ5Mi5qc1wiO1xuaW1wb3J0IF9oYXMgZnJvbSBcIi4vaW50ZXJuYWwvX2hhcy5qc1wiO1xuXG4vKipcbiAqIFRha2VzIGEgc3BlYyBvYmplY3QgYW5kIGEgdGVzdCBvYmplY3Q7IHJldHVybnMgdHJ1ZSBpZiB0aGUgdGVzdCBzYXRpc2ZpZXNcbiAqIHRoZSBzcGVjLiBFYWNoIG9mIHRoZSBzcGVjJ3Mgb3duIHByb3BlcnRpZXMgbXVzdCBiZSBhIHByZWRpY2F0ZSBmdW5jdGlvbi5cbiAqIEVhY2ggcHJlZGljYXRlIGlzIGFwcGxpZWQgdG8gdGhlIHZhbHVlIG9mIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IG9mIHRoZVxuICogdGVzdCBvYmplY3QuIGB3aGVyZWAgcmV0dXJucyB0cnVlIGlmIGFsbCB0aGUgcHJlZGljYXRlcyByZXR1cm4gdHJ1ZSwgZmFsc2VcbiAqIG90aGVyd2lzZS5cbiAqXG4gKiBgd2hlcmVgIGlzIHdlbGwgc3VpdGVkIHRvIGRlY2xhcmF0aXZlbHkgZXhwcmVzc2luZyBjb25zdHJhaW50cyBmb3Igb3RoZXJcbiAqIGZ1bmN0aW9ucyBzdWNoIGFzIFtgZmlsdGVyYF0oI2ZpbHRlcikgYW5kIFtgZmluZGBdKCNmaW5kKS5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xLjFcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBzaWcge1N0cmluZzogKCogLT4gQm9vbGVhbil9IC0+IHtTdHJpbmc6ICp9IC0+IEJvb2xlYW5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzcGVjXG4gKiBAcGFyYW0ge09iamVjdH0gdGVzdE9ialxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBzZWUgUi5wcm9wU2F0aXNmaWVzLCBSLndoZXJlRXFcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICAvLyBwcmVkIDo6IE9iamVjdCAtPiBCb29sZWFuXG4gKiAgICAgIGNvbnN0IHByZWQgPSBSLndoZXJlKHtcbiAqICAgICAgICBhOiBSLmVxdWFscygnZm9vJyksXG4gKiAgICAgICAgYjogUi5jb21wbGVtZW50KFIuZXF1YWxzKCdiYXInKSksXG4gKiAgICAgICAgeDogUi5ndChSLl9fLCAxMCksXG4gKiAgICAgICAgeTogUi5sdChSLl9fLCAyMClcbiAqICAgICAgfSk7XG4gKlxuICogICAgICBwcmVkKHthOiAnZm9vJywgYjogJ3h4eCcsIHg6IDExLCB5OiAxOX0pOyAvLz0+IHRydWVcbiAqICAgICAgcHJlZCh7YTogJ3h4eCcsIGI6ICd4eHgnLCB4OiAxMSwgeTogMTl9KTsgLy89PiBmYWxzZVxuICogICAgICBwcmVkKHthOiAnZm9vJywgYjogJ2JhcicsIHg6IDExLCB5OiAxOX0pOyAvLz0+IGZhbHNlXG4gKiAgICAgIHByZWQoe2E6ICdmb28nLCBiOiAneHh4JywgeDogMTAsIHk6IDE5fSk7IC8vPT4gZmFsc2VcbiAqICAgICAgcHJlZCh7YTogJ2ZvbycsIGI6ICd4eHgnLCB4OiAxMSwgeTogMjB9KTsgLy89PiBmYWxzZVxuICovXG52YXIgd2hlcmUgPSAvKiNfX1BVUkVfXyovX2N1cnJ5MihmdW5jdGlvbiB3aGVyZShzcGVjLCB0ZXN0T2JqKSB7XG4gIGZvciAodmFyIHByb3AgaW4gc3BlYykge1xuICAgIGlmIChfaGFzKHByb3AsIHNwZWMpICYmICFzcGVjW3Byb3BdKHRlc3RPYmpbcHJvcF0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufSk7XG5leHBvcnQgZGVmYXVsdCB3aGVyZTsiLCJpbXBvcnQgX2N1cnJ5MiBmcm9tIFwiLi9pbnRlcm5hbC9fY3VycnkyLmpzXCI7XG5pbXBvcnQgZXF1YWxzIGZyb20gXCIuL2VxdWFscy5qc1wiO1xuaW1wb3J0IG1hcCBmcm9tIFwiLi9tYXAuanNcIjtcbmltcG9ydCB3aGVyZSBmcm9tIFwiLi93aGVyZS5qc1wiO1xuXG4vKipcbiAqIFRha2VzIGEgc3BlYyBvYmplY3QgYW5kIGEgdGVzdCBvYmplY3Q7IHJldHVybnMgdHJ1ZSBpZiB0aGUgdGVzdCBzYXRpc2ZpZXNcbiAqIHRoZSBzcGVjLCBmYWxzZSBvdGhlcndpc2UuIEFuIG9iamVjdCBzYXRpc2ZpZXMgdGhlIHNwZWMgaWYsIGZvciBlYWNoIG9mIHRoZVxuICogc3BlYydzIG93biBwcm9wZXJ0aWVzLCBhY2Nlc3NpbmcgdGhhdCBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IGdpdmVzIHRoZSBzYW1lXG4gKiB2YWx1ZSAoaW4gW2BSLmVxdWFsc2BdKCNlcXVhbHMpIHRlcm1zKSBhcyBhY2Nlc3NpbmcgdGhhdCBwcm9wZXJ0eSBvZiB0aGVcbiAqIHNwZWMuXG4gKlxuICogYHdoZXJlRXFgIGlzIGEgc3BlY2lhbGl6YXRpb24gb2YgW2B3aGVyZWBdKCN3aGVyZSkuXG4gKlxuICogQGZ1bmNcbiAqIEBtZW1iZXJPZiBSXG4gKiBAc2luY2UgdjAuMTQuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHNpZyB7U3RyaW5nOiAqfSAtPiB7U3RyaW5nOiAqfSAtPiBCb29sZWFuXG4gKiBAcGFyYW0ge09iamVjdH0gc3BlY1xuICogQHBhcmFtIHtPYmplY3R9IHRlc3RPYmpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAc2VlIFIucHJvcEVxLCBSLndoZXJlXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgLy8gcHJlZCA6OiBPYmplY3QgLT4gQm9vbGVhblxuICogICAgICBjb25zdCBwcmVkID0gUi53aGVyZUVxKHthOiAxLCBiOiAyfSk7XG4gKlxuICogICAgICBwcmVkKHthOiAxfSk7ICAgICAgICAgICAgICAvLz0+IGZhbHNlXG4gKiAgICAgIHByZWQoe2E6IDEsIGI6IDJ9KTsgICAgICAgIC8vPT4gdHJ1ZVxuICogICAgICBwcmVkKHthOiAxLCBiOiAyLCBjOiAzfSk7ICAvLz0+IHRydWVcbiAqICAgICAgcHJlZCh7YTogMSwgYjogMX0pOyAgICAgICAgLy89PiBmYWxzZVxuICovXG52YXIgd2hlcmVFcSA9IC8qI19fUFVSRV9fKi9fY3VycnkyKGZ1bmN0aW9uIHdoZXJlRXEoc3BlYywgdGVzdE9iaikge1xuICByZXR1cm4gd2hlcmUobWFwKGVxdWFscywgc3BlYyksIHRlc3RPYmopO1xufSk7XG5leHBvcnQgZGVmYXVsdCB3aGVyZUVxOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pZGVudGl0eSh4KSB7XG4gIHJldHVybiB4O1xufSIsImltcG9ydCBfY3VycnkxIGZyb20gXCIuL2ludGVybmFsL19jdXJyeTEuanNcIjtcbmltcG9ydCBfaWRlbnRpdHkgZnJvbSBcIi4vaW50ZXJuYWwvX2lkZW50aXR5LmpzXCI7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IGRvZXMgbm90aGluZyBidXQgcmV0dXJuIHRoZSBwYXJhbWV0ZXIgc3VwcGxpZWQgdG8gaXQuIEdvb2RcbiAqIGFzIGEgZGVmYXVsdCBvciBwbGFjZWhvbGRlciBmdW5jdGlvbi5cbiAqXG4gKiBAZnVuY1xuICogQG1lbWJlck9mIFJcbiAqIEBzaW5jZSB2MC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHNpZyBhIC0+IGFcbiAqIEBwYXJhbSB7Kn0geCBUaGUgdmFsdWUgdG8gcmV0dXJuLlxuICogQHJldHVybiB7Kn0gVGhlIGlucHV0IHZhbHVlLCBgeGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAgUi5pZGVudGl0eSgxKTsgLy89PiAxXG4gKlxuICogICAgICBjb25zdCBvYmogPSB7fTtcbiAqICAgICAgUi5pZGVudGl0eShvYmopID09PSBvYmo7IC8vPT4gdHJ1ZVxuICogQHN5bWIgUi5pZGVudGl0eShhKSA9IGFcbiAqL1xudmFyIGlkZW50aXR5ID0gLyojX19QVVJFX18qL19jdXJyeTEoX2lkZW50aXR5KTtcbmV4cG9ydCBkZWZhdWx0IGlkZW50aXR5OyIsImltcG9ydCAqIGFzIFIgZnJvbSAncmFtZGEnO1xuaW1wb3J0IHtDYWxjU3RhdGUsIGRpc3BWYWxMZW5zLCBpc1Bvc3RDYWxjTGVuc30gZnJvbSAnLi9zdGF0ZSc7XG5cblxuY29uc3QgaGFzRGlnaXQgPSAoc3RyOiBzdHJpbmcpID0+IC9cXGQvLnRlc3Qoc3RyKTtcblxuLy8gQXBwZW5kIG9yIHJlcGxhY2UgaWYgemVybyB2YWx1ZSBhbmQgZW50ZXJpbmcgZGlnaXRcbmNvbnN0IGFwcFJlcFplcm8gPSAoY2hhcjogc3RyaW5nKSA9PiAoc3RyOiBzdHJpbmcpID0+IFxuICAgIHN0ciA9PT0gJzAnICYmIGhhc0RpZ2l0KGNoYXIpXG4gICAgPyBjaGFyXG4gICAgOiBzdHIgKyBjaGFyO1xuXG5jb25zdCBpc0Fib3ZlTGltaXQgPSAobGltaXQ6IG51bWJlcikgPT4gKHN0cjpzdHJpbmcpID0+IFxuICAgIHN0ci5sZW5ndGggPiBsaW1pdDtcblxuY29uc3QgaXNBYm92ZTE5ID0gaXNBYm92ZUxpbWl0KDE5KTtcblxuY29uc3QgYXBwZW5kQ2hhciA9IChjaGFyOiBzdHJpbmcpID0+IChzdHI6IHN0cmluZykgPT5cbiAgICBpc0Fib3ZlMTkoc3RyKVxuICAgID8gc3RyXG4gICAgOiBhcHBSZXBaZXJvKGNoYXIpKHN0cik7XG5cbmNvbnN0IHBvc3RDYWxjUmVzZXQgPSBSLmlmRWxzZShcbiAgICBSLndoZXJlRXEoe2lzUG9zdENhbGM6IHRydWV9KSxcbiAgICBSLnBpcGUoXG4gICAgICAgIFIuc2V0KGlzUG9zdENhbGNMZW5zLCBmYWxzZSksXG4gICAgICAgIFIuc2V0KGRpc3BWYWxMZW5zLCAnMCcpXG4gICAgKSxcbiAgICBSLmlkZW50aXR5XG4pO1xuXG5jb25zdCBlbnRlckNoYXIgPSAoY2hhcjogc3RyaW5nKSA9PiAoY2FsY1N0YXRlOiBDYWxjU3RhdGUpID0+IHtcbiAgICByZXR1cm4gUi5waXBlKFxuICAgICAgICBwb3N0Q2FsY1Jlc2V0LFxuICAgICAgICBSLm92ZXIoZGlzcFZhbExlbnMsIGFwcGVuZENoYXIoY2hhcikpXG4gICAgKShjYWxjU3RhdGUpXG59O1xuXG5leHBvcnQge2VudGVyQ2hhcn07XG4iLCJpbXBvcnQgKiBhcyBSIGZyb20gJ3JhbWRhJztcbmltcG9ydCB7Q2FsY1N0YXRlLCBkaXNwVmFsTGVuc30gZnJvbSAnLi9zdGF0ZSc7XG5cbmludGVyZmFjZSBVbmFyeU9wcyB7XG4gICAgW2k6IHN0cmluZ106IChhOiBzdHJpbmcpID0+IHN0cmluZztcbn07XG5cbmNvbnN0IHVuYXJ5T3BzOiBVbmFyeU9wcyA9IHtcbiAgICAnKy8tJzogKGE6IHN0cmluZykgPT4gU3RyaW5nKC1wYXJzZUZsb2F0KGEpKSxcbiAgICAnJSc6IChhOiBzdHJpbmcpID0+IFN0cmluZyhwYXJzZUZsb2F0KGEpIC8gMTAwKSxcbn07XG5cbmNvbnN0IGVudGVyVW5hcnlPcCA9IChvcDogc3RyaW5nKSA9PiAoY2FsY1N0YXRlOiBDYWxjU3RhdGUpID0+IHtcbiAgICByZXR1cm4gb3AgaW4gdW5hcnlPcHMgXG4gICAgPyBSLnNldChkaXNwVmFsTGVucywgICAgICAgIFxuICAgICAgICB1bmFyeU9wc1tvcF0oUi52aWV3KGRpc3BWYWxMZW5zLCBjYWxjU3RhdGUpKSxcbiAgICAgICAgY2FsY1N0YXRlXG4gICAgKVxuICAgIDogY2FsY1N0YXRlO1xufTtcblxuZXhwb3J0IHt1bmFyeU9wcywgZW50ZXJVbmFyeU9wfTsiLCJpbXBvcnQgKiBhcyBSIGZyb20gJ3JhbWRhJztcbmltcG9ydCAqIGFzIFJFIGZyb20gJ3JlbWVkYSc7XG5pbXBvcnQge0NhbGNTdGF0ZSwgaW5pdFN0YXRlLCBkaXNwVmFsTGVucywgb3BMZW5zfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCB7Y2FsY3VsYXRlLCBjb3B5VG9TdG9yZWRPcH0gZnJvbSAnLi9iaW5hcnktb3AnO1xuaW1wb3J0IHtlbnRlckNoYXJ9IGZyb20gJy4vZW50ZXItY2hhcic7XG5cbi8vIENsZWFyXG5jb25zdCBlbnRlckNsZWFyID0gKGNsZWFyOiBzdHJpbmcpID0+IChjYWxjU3RhdGU6IENhbGNTdGF0ZSkgPT4gaW5pdFN0YXRlKCk7XG5cbi8vIERlbGV0ZVxuY29uc3QgemVyb0lmRW1wdHkgPSAoc3RyOiBzdHJpbmcpID0+XG4gICAgc3RyID09PSAnJ1xuICAgID8gJzAnXG4gICAgOiBzdHI7XG5cbmNvbnN0IGVudGVyRGVsZXRlID0gKF86IHN0cmluZykgPT4gKGNhbGNTdGF0ZTogQ2FsY1N0YXRlKSA9PiBcbiAgICBSLm92ZXIoZGlzcFZhbExlbnMsIFxuICAgICAgICBSLnBpcGUoUkUuc2xpY2VTdHJpbmcoMCwtMSksIHplcm9JZkVtcHR5KSxcbiAgICAgICAgY2FsY1N0YXRlKTtcblxuLy8gRXF1YWxzXG5jb25zdCBlbnRlckVxdWFscyA9IChfOiBzdHJpbmcpID0+IChjYWxjU3RhdGU6IENhbGNTdGF0ZSkgPT4gXG4gICAgUi5waXBlKFxuICAgICAgICBjYWxjdWxhdGUsXG4gICAgICAgIFIuc2V0KG9wTGVucywgJycpLFxuICAgICAgICBjb3B5VG9TdG9yZWRPcFxuICAgICkoY2FsY1N0YXRlKTtcblxuLy8gR2VuZXJpYyBlbnRlckNoYXJOb3RFeGlzdFxuY29uc3QgZW50ZXJDaGFySWZOb3RJbiA9IChjaGFyOiBzdHJpbmcpID0+IChkZWNpbWFsOiBzdHJpbmcpID0+IFxuICAgIChjYWxjU3RhdGU6IENhbGNTdGF0ZSkgPT4ge1xuICAgIHJldHVybiBSLnZpZXcoZGlzcFZhbExlbnMsIGNhbGNTdGF0ZSkuaW5jbHVkZXMoY2hhcikgXG4gICAgPyBjYWxjU3RhdGVcbiAgICA6IGVudGVyQ2hhcihjaGFyKShjYWxjU3RhdGUpO1xufTtcblxuLy8gRGVjaW1hbFxuY29uc3QgZW50ZXJEZWNpbWFsID0gZW50ZXJDaGFySWZOb3RJbignLicpO1xuXG4vLyBFeHBvbmVudFxuY29uc3QgZW50ZXJFeHAgPSBlbnRlckNoYXJJZk5vdEluKCdlJyk7XG5cbmV4cG9ydCB7ZW50ZXJFcXVhbHMsIGVudGVyQ2xlYXIsIGVudGVyRGVjaW1hbCwgZW50ZXJEZWxldGUsIGVudGVyRXhwfTsiLCJpbXBvcnQgKiBhcyBSIGZyb20gJ3JhbWRhJztcbmltcG9ydCB7Q2FsY1N0YXRlLCBkaXNwVmFsTGVuc30gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQge2JpbmFyeU9wcywgZW50ZXJCaW5PcH0gZnJvbSAnLi9iaW5hcnktb3AnO1xuaW1wb3J0IHtlbnRlckNoYXJ9IGZyb20gJy4vZW50ZXItY2hhcic7XG5pbXBvcnQge3VuYXJ5T3BzLCBlbnRlclVuYXJ5T3B9IGZyb20gJy4vdW5hcnktb3AnO1xuaW1wb3J0IHtlbnRlckVxdWFscywgZW50ZXJDbGVhciwgZW50ZXJEZWNpbWFsLCBlbnRlckRlbGV0ZSwgZW50ZXJFeHB9XG4gICAgZnJvbSAnLi9taXNjJztcblxuLy8gVUlcbmNvbnN0IGdldEVudGVyRnVuOiAoKHN0cjogc3RyaW5nKSA9PiAoKGM6IENhbGNTdGF0ZSkgPT4gQ2FsY1N0YXRlKSkgPSBSLmNvbmQoW1xuICAgIFtSLmZsaXAoUi5oYXMpKGJpbmFyeU9wcyksIGVudGVyQmluT3BdLFxuICAgIFtSLmZsaXAoUi5oYXMpKHVuYXJ5T3BzKSwgZW50ZXJVbmFyeU9wXSxcbiAgICBbKHN0cjogc3RyaW5nKSA9PiAvXlxcZCQvLnRlc3Qoc3RyKSwgZW50ZXJDaGFyXSxcbiAgICBbUi5lcXVhbHMoJz0nKSwgZW50ZXJFcXVhbHNdLFxuICAgIFtSLmVxdWFscygnQS9DJyksIGVudGVyQ2xlYXJdLFxuICAgIFtSLmVxdWFscygnLicpLCBlbnRlckRlY2ltYWxdLFxuICAgIFtSLmVxdWFscygnZXhwJyksIGVudGVyRXhwXSxcbiAgICBbUi5lcXVhbHMoJ2RlbGV0ZScpLCBlbnRlckRlbGV0ZV0sXG4gICAgW1IuVCwgUi5hbHdheXMoKGNhbGNTdGF0ZTogQ2FsY1N0YXRlKTogQ2FsY1N0YXRlID0+IGNhbGNTdGF0ZSldXG5dKTtcblxuY29uc3QgdXBkYXRlVWlDYWxjVmFsID0gKGVsOiBFbGVtZW50KSA9PiAoY2FsY1N0YXRlOiBDYWxjU3RhdGUpID0+IHtcbiAgICBsZXQgY2FsY3VsYXRlZFZhbHVlID0gZWwucXVlcnlTZWxlY3RvcignLmNhbGN1bGF0ZWQtdmFsdWUnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoY2FsY3VsYXRlZFZhbHVlKSB7XG4gICAgICAgIGNhbGN1bGF0ZWRWYWx1ZS5pbm5lclRleHQgPSBSLnZpZXcoZGlzcFZhbExlbnMsIGNhbGNTdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBjYWxjU3RhdGU7XG59O1xuXG5cbmNvbnN0IGZvcm1hdFZhbCA9IChhOiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gYS50b1N0cmluZygpLmxlbmd0aCA+IDE4XG4gICAgPyBhLnRvUHJlY2lzaW9uKDE4KVxuICAgIDogYS50b1N0cmluZygpO1xufTtcblxuY29uc3QgZm9ybWF0RGlzcFZhbCA9IChjYWxjU3RhdGU6IENhbGNTdGF0ZSkgPT4ge1xuICAgIHJldHVybiBSLm92ZXIoZGlzcFZhbExlbnMsXG4gICAgICAgIFIucGlwZShOdW1iZXIsXG4gICAgICAgICAgICBmb3JtYXRWYWxcbiAgICAgICAgKSxcbiAgICAgICAgY2FsY1N0YXRlXG4gICAgKVxufVxuXG5leHBvcnQgeyBnZXRFbnRlckZ1biwgdXBkYXRlVWlDYWxjVmFsLCBmb3JtYXREaXNwVmFsIH07IiwiZXhwb3J0IHZhciBzbGljZVN0cmluZyA9IGZ1bmN0aW9uIChpbmRleFN0YXJ0LCBpbmRleEVuZCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS5zbGljZShpbmRleFN0YXJ0LCBpbmRleEVuZCk7XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSIGZyb20gJ3JhbWRhJztcbmltcG9ydCB7Q2FsY1N0YXRlLCBkaXNwVmFsTGVucywgaW5pdFN0YXRlfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCB7YmluYXJ5T3BzLCBlbnRlckJpbk9wfSBmcm9tICcuL2JpbmFyeS1vcCc7XG5pbXBvcnQge2VudGVyQ2hhcn0gZnJvbSAnLi9lbnRlci1jaGFyJztcbmltcG9ydCB7dW5hcnlPcHMsIGVudGVyVW5hcnlPcH0gZnJvbSAnLi91bmFyeS1vcCc7XG5pbXBvcnQge2VudGVyRXF1YWxzLCBlbnRlckNsZWFyLCBlbnRlckRlY2ltYWwsIGVudGVyRGVsZXRlLCBlbnRlckV4cH1cbiAgICBmcm9tICcuL21pc2MnO1xuXG5jb25zdCBoYW5kbGVFcnJvciA9IChjYWxjU3RhdGU6IENhbGNTdGF0ZSkgPT4ge1xuICAgIHJldHVybiBSLnZpZXcoZGlzcFZhbExlbnMsIGNhbGNTdGF0ZSkgPT09ICdJbmZpbml0eScgfHxcbiAgICBSLnZpZXcoZGlzcFZhbExlbnMsIGNhbGNTdGF0ZSkgPT09ICctSW5maW5pdHknIHx8XG4gICAgUi52aWV3KGRpc3BWYWxMZW5zLCBjYWxjU3RhdGUpID09PSAnTmFOJ1xuICAgID8gUi5waXBlKFxuICAgICAgICBpbml0U3RhdGUsXG4gICAgICAgIFIuc2V0KGRpc3BWYWxMZW5zLCAnRXJyb3InKVxuICAgICkoY2FsY1N0YXRlKVxuICAgIDogY2FsY1N0YXRlXG59XG5cbmNvbnN0IGhhc0Vycm9yID0gKGNhbGNTdGF0ZTogQ2FsY1N0YXRlKSA9PiBcbiAgICBSLnZpZXcoZGlzcFZhbExlbnMsIGNhbGNTdGF0ZSkgPT09ICdFcnJvcic7XG5cbmV4cG9ydCB7IGhhbmRsZUVycm9yLCBoYXNFcnJvciB9OyIsImltcG9ydCAqIGFzIFIgZnJvbSAncmFtZGEnO1xuaW1wb3J0IHtmb3JtYXREaXNwVmFsLCBnZXRFbnRlckZ1biwgdXBkYXRlVWlDYWxjVmFsfSBmcm9tICcuL3VpJztcbmltcG9ydCB7dXBkYXRlU3RhdGUsIGdsb2JhbFN0YXRlLCBpbml0U3RhdGV9IGZyb20gJy4vc3RhdGUnO1xuaW1wb3J0IHsgaGFuZGxlRXJyb3IsIGhhc0Vycm9yIH0gZnJvbSAnLi9oYW5kbGUtZXJyb3InO1xuXG5sZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FsY3VsYXRvcicpIGFzIEhUTUxFbGVtZW50O1xuXG5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgaWYoZS50YXJnZXQgXG4gICAgICAgICYmIGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgXG4gICAgICAgICYmIGUudGFyZ2V0LnRhZ05hbWUgPT09ICdCVVRUT04nKVxuICAgIFIucGlwZShcbiAgICAgICAgUi5jb25kKFtcbiAgICAgICAgICAgIFtoYXNFcnJvciwgaW5pdFN0YXRlXSxcbiAgICAgICAgICAgIFtSLlQsIFIucGlwZShcbiAgICAgICAgICAgICAgICBnZXRFbnRlckZ1bihlLnRhcmdldC5pbm5lclRleHQpLFxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKV1cbiAgICAgICAgXSksXG4gICAgICAgIHVwZGF0ZVN0YXRlKGdsb2JhbFN0YXRlKSxcbiAgICAgICAgdXBkYXRlVWlDYWxjVmFsKGVsKSxcbiAgICApKGdsb2JhbFN0YXRlKTtcbn0pO1xuXG4iXSwibmFtZXMiOlsiX2FyaXR5IiwibiIsImZuIiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwiYTAiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYTYiLCJhNyIsImE4IiwiYTkiLCJFcnJvciIsIl9waXBlIiwiZiIsImciLCJjYWxsIiwiX2lzUGxhY2Vob2xkZXIiLCJhIiwiX3BsYWNlaG9sZGVyIiwiX2N1cnJ5MSIsImYxIiwibGVuZ3RoIiwiX2N1cnJ5MiIsImYyIiwiYiIsIl9iIiwiX2EiLCJfY3VycnkzIiwiZjMiLCJjIiwiX2MiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWwiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsIl9pc1N0cmluZyIsIngiLCJfaXNBcnJheSIsImhhc093blByb3BlcnR5Iiwic3ltSXRlcmF0b3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9jcmVhdGVSZWR1Y2UiLCJhcnJheVJlZHVjZSIsIm1ldGhvZFJlZHVjZSIsIml0ZXJhYmxlUmVkdWNlIiwieGYiLCJhY2MiLCJsaXN0IiwibmV4dCIsInJlZHVjZSIsIlR5cGVFcnJvciIsIl94QXJyYXlSZWR1Y2UiLCJpZHgiLCJsZW4iLCJ0aGlzT2JqIiwiX3hJdGVyYWJsZVJlZHVjZSIsIml0ZXIiLCJzdGVwIiwiZG9uZSIsInZhbHVlIiwiX3hNZXRob2RSZWR1Y2UiLCJvYmoiLCJtZXRob2ROYW1lIiwiWFdyYXAiLCJfY2hlY2tGb3JNZXRob2QiLCJtZXRob2RuYW1lIiwic2xpY2UiLCJmcm9tSW5kZXgiLCJ0b0luZGV4IiwiSW5maW5pdHkiLCJwaXBlIiwiX2FycmF5UmVkdWNlIiwicmVkdWNlciIsImluZGV4IiwiX2Rpc3BhdGNoYWJsZSIsIm1ldGhvZE5hbWVzIiwidHJhbnNkdWNlckNyZWF0b3IiLCJfaXNUcmFuc2Zvcm1lciIsInRyYW5zZHVjZXIiLCJfbWFwIiwiZnVuY3RvciIsInJlc3VsdCIsIlhNYXAiLCJfeGZCYXNlIiwiaW5wdXQiLCJfY3VycnlOIiwicmVjZWl2ZWQiLCJjb21iaW5lZCIsImFyZ3NJZHgiLCJsZWZ0IiwiY29tYmluZWRJZHgiLCJoYXNQbGFjZWhvbGRlciIsIk1hdGgiLCJtYXgiLCJfaGFzIiwicHJvcCIsImhhc0VudW1CdWciLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIm5vbkVudW1lcmFibGVQcm9wcyIsImhhc0FyZ3NFbnVtQnVnIiwiY29udGFpbnMiLCJpdGVtIiwia2V5cyIsIm5JZHgiLCJrcyIsImNoZWNrQXJnc0xlbmd0aCIsImtleSIsIl9hcnJheUZyb21JdGVyYXRvciIsInB1c2giLCJfaW5jbHVkZXNXaXRoIiwicHJlZCIsImlzIiwidW5kZWZpbmVkIiwiX3VuaXFDb250ZW50RXF1YWxzIiwiYUl0ZXJhdG9yIiwiYkl0ZXJhdG9yIiwic3RhY2tBIiwic3RhY2tCIiwiZXEiLCJfZXF1YWxzIiwiYUl0ZW0iLCJtYXRjaCIsInR5cGVBIiwiZXF1YWxzIiwiY29uc3RydWN0b3IiLCJTdHJpbmciLCJ2YWx1ZU9mIiwibmFtZSIsIm1lc3NhZ2UiLCJzb3VyY2UiLCJnbG9iYWwiLCJpZ25vcmVDYXNlIiwibXVsdGlsaW5lIiwic3RpY2t5IiwidW5pY29kZSIsInNpemUiLCJlbnRyaWVzIiwiY29uY2F0IiwidmFsdWVzIiwia2V5c0EiLCJleHRlbmRlZFN0YWNrQSIsImV4dGVuZGVkU3RhY2tCIiwiX3F1b3RlIiwicyIsInJlcGxhY2UiLCJwYWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJkIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJnZXRVVENIb3VycyIsImdldFVUQ01pbnV0ZXMiLCJnZXRVVENTZWNvbmRzIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwidG9GaXhlZCIsIlhGaWx0ZXIiLCJfeGZpbHRlciIsImZpbHRlcmFibGUiLCJfZmlsdGVyIiwiX3RvU3RyaW5nIiwic2VlbiIsInJlY3VyIiwieSIsInhzIiwiaW5mIiwiaW5kZXhPZiIsIl9pbmRleE9mIiwibWFwUGFpcnMiLCJrIiwic29ydCIsImpvaW4iLCJ0ZXN0IiwiaXNOYU4iLCJOYU4iLCJmcm9tIiwicmVwciIsInNhZmVNYXgiLCJtYXhCeVZhbHVlIiwibWF4QnlUeXBlIiwic3RyaW5nQSIsIm1heEJ5U3RyaW5nVmFsdWUiLCJwYWlycyIsInBhaXIiLCJhcmdzIiwiX3BhdGgiLCJDb25zdCIsImxlbnMiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJhc3NvY1BhdGgiLCJwYXRoIiwibmV4dE9iaiIsIl9pc0ludGVnZXIiLCJhcnIiLCJwIiwiX2Fzc29jIiwiZ2V0dGVyIiwic2V0dGVyIiwidG9GdW5jdG9yRm4iLCJ0YXJnZXQiLCJmb2N1cyIsInBhdGhBciIsIm9mZnNldCIsImkiLCJjaGFyQXQiLCJpbml0U3RhdGUiLCJjYWxjIiwic3RvcmVkVmFsdWUiLCJvcGVyYXRvciIsImRpc3BsYXlWYWx1ZSIsImlzUG9zdENhbGMiLCJnbG9iYWxTdGF0ZSIsInN0b3JlVmFsTGVucyIsImlzUG9zdENhbGNMZW5zIiwib3BMZW5zIiwiSWRlbnRpdHkiLCJtYXAiLCJ2Iiwib3BlcmF0aW9ucyIsIl9pIiwic29tZXRoaW5nIiwib3V0cHV0IiwibGF6eU9wZXJhdGlvbnMiLCJvcCIsImxhenkiLCJsYXp5QXJncyIsImFzc2lnbiIsImlzSW5kZXhlZCIsImluZGV4ZWQiLCJpc1NpbmdsZSIsInNpbmdsZSIsIml0ZW1zIiwicHJlcGFyZUxhenlPcGVyYXRpb24iLCJvcGVyYXRpb25JbmRleCIsImxhenlTZXF1ZW5jZSIsImxhenlPcCIsImFjY3VtdWxhdG9yIiwiX3Byb2Nlc3NJdGVtIiwib3BlcmF0aW9uIiwiY3VycmVudEl0ZW0iLCJsYXp5UmVzdWx0IiwiaGFzTmV4dCIsImlzRG9uZSIsIm9wZXJhdGlvbnNJbmRleCIsImxhenlGbiIsImhhc01hbnkiLCJiaW5hcnlPcHMiLCJwYXJzZUZsb2F0IiwiY29weVRvU3RvcmVkT3AiLCJjYWxjU3RhdGUiLCJjYWxjdWxhdGUiLCJ0byIsInBhY2siLCJhciIsImwiLCJfX3NwcmVhZEFycmF5IiwiZnVuIiwiY29uZGl0aW9uIiwib25UcnVlIiwib25GYWxzZSIsInNwZWMiLCJ0ZXN0T2JqIiwiX2lkZW50aXR5IiwiaXNBYm92ZTE5Iiwic3RyIiwicG9zdENhbGNSZXNldCIsImVudGVyQ2hhciIsImNoYXIiLCJoYXNEaWdpdCIsImFwcFJlcFplcm8iLCJhcHBlbmRDaGFyIiwidW5hcnlPcHMiLCJ6ZXJvSWZFbXB0eSIsImVudGVyQ2hhcklmTm90SW4iLCJkZWNpbWFsIiwiaW5jbHVkZXMiLCJlbnRlckRlY2ltYWwiLCJlbnRlckV4cCIsImdldEVudGVyRnVuIiwiYmluT3AiLCJfIiwiY2xlYXIiLCJkYXRhIiwiaGFuZGxlRXJyb3IiLCJoYXNFcnJvciIsImVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJIVE1MRWxlbWVudCIsInRhZ05hbWUiLCJpbm5lclRleHQiLCJ1cGRhdGVTdGF0ZSIsImNhbGN1bGF0ZWRWYWx1ZSIsInVwZGF0ZVVpQ2FsY1ZhbCJdLCJzb3VyY2VSb290IjoiIn0=